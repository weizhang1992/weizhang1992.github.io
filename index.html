<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-summary-for-Binary-Search" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/03/summary-for-Binary-Search/" class="article-date">
  <time datetime="2016-11-03T13:39:28.000Z" itemprop="datePublished">2016-11-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/03/summary-for-Binary-Search/">summary for Binary Search</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h1><p>used to reduce O(n) time complexity to O(logn) for ordered, part ordered, [0000111111] list.</p>
<h3 id="Situation"><a href="#Situation" class="headerlink" title="Situation"></a>Situation</h3><ol>
<li><p>有序数组中有且仅有一个target，那么返回index<br>example: no duplicate target list : [1, 2, 5, 8, 9, 10, 15] 中找2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//edge case, when left + 1 = right, when left = right</span></div><div class="line"><span class="keyword">while</span>(left &lt;= right) &#123;</div><div class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">        <span class="keyword">return</span> mid;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">        right = mid - <span class="number">1</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        left  = mid + <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> -<span class="number">1</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>数组中没有target，我们应该返回比target大的元素的index还是比之小的index?<br>example: <a href="https://leetcode.com/problems/search-insert-position/" target="_blank" rel="external">search insert position</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// insert 5 to [2, 4, 7, 8, 9], return 2</span></div><div class="line"><span class="keyword">while</span>(left + <span class="number">1</span> &lt; right) &#123;</div><div class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">        <span class="keyword">return</span> mid;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">        right = mid;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        left = mid;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> (target &lt;= nums[left]) &#123;</div><div class="line">    <span class="keyword">return</span> left;</div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[right]) &#123;</div><div class="line">    <span class="keyword">return</span> right + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> right;</div></pre></td></tr></table></figure>
</li>
<li><p>数组中含有多个target，我们应该返回哪一个的index?<br>example: <a href="https://leetcode.com/problems/first-bad-version/" target="_blank" rel="external">first bad version</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//find first 5 in [1, 2, 3, 5, 5, 5, 6, 7, 8]</span></div><div class="line"><span class="comment">//find last  5 in [1, 2, 3, 5, 5, 5, 6, 7, 8]</span></div><div class="line"><span class="comment">//find first 1 in [0, 0, 0, 0, 1, 1, 1, 1, 1]</span></div><div class="line"><span class="comment">//here we are trying to find leftmost</span></div><div class="line"><span class="keyword">while</span>(left + <span class="number">1</span> &lt; right) &#123;</div><div class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">        right = mid;<span class="comment">//should change based on condition</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">        right = mid;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        left  = mid;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> nums[left] == target ? left : right;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Go-through-edge-case"><a href="#Go-through-edge-case" class="headerlink" title="Go through edge case"></a>Go through edge case</h3><ol>
<li>left == right<ul>
<li>target &lt; left</li>
<li>target == left</li>
<li>target &gt; left</li>
</ul>
</li>
<li>left + 1 == right<ul>
<li>target &lt; left</li>
<li>left &lt; target &lt; right</li>
<li>target &gt; right</li>
</ul>
</li>
</ol>
<h3 id="Interview-Questions"><a href="#Interview-Questions" class="headerlink" title="Interview Questions"></a>Interview Questions</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/03/summary-for-Binary-Search/" data-id="civ3ab8er0002qk9zuhepyxoo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-Heap-PriorityQueue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-Heap-PriorityQueue/" class="article-date">
  <time datetime="2016-11-03T03:58:05.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-Heap-PriorityQueue/">summary for Heap PriorityQueue</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-Heap-PriorityQueue/" data-id="civ3ab8ei0000qk9z7bb7t0pr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-Array-Sort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-Array-Sort/" class="article-date">
  <time datetime="2016-11-03T03:54:36.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-Array-Sort/">summary for Array Sort</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="分类总结之Array-amp-Sort"><a href="#分类总结之Array-amp-Sort" class="headerlink" title="分类总结之Array &amp; Sort"></a>分类总结之Array &amp; Sort</h1><h2 id="Sorting-knowledge"><a href="#Sorting-knowledge" class="headerlink" title="Sorting knowledge"></a>Sorting knowledge</h2><h4 id="old-fashion-sort"><a href="#old-fashion-sort" class="headerlink" title="old fashion sort:"></a>old fashion sort:</h4><ul>
<li>bubble sort</li>
<li>select sort</li>
<li>insert sort</li>
</ul>
<h4 id="compare-based-sort"><a href="#compare-based-sort" class="headerlink" title="compare based sort:"></a>compare based sort:</h4><ol>
<li><p>merge sort:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//t: O(nlogn), s: O(n)</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</div><div class="line">    mergeSort(arr, <span class="keyword">new</span> <span class="keyword">int</span>[arr.length], <span class="number">0</span>, arr.length - <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span>[] temp, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (l &lt; r) &#123;</div><div class="line">        <span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</div><div class="line">        mergeSort(arr, temp, l, m);</div><div class="line">        mergeSort(arr , temp, m + <span class="number">1</span>, r);</div><div class="line">        merge(arr, l, m, r, temp);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> l, <span class="keyword">int</span> m, <span class="keyword">int</span> r, <span class="keyword">int</span>[] temp)</span> </span>&#123;</div><div class="line">   <span class="keyword">int</span> n1 = m - l + <span class="number">1</span>;</div><div class="line">   <span class="keyword">int</span> n2 = r - m;</div><div class="line"></div><div class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = l; i &lt;= m; ++i) &#123;</div><div class="line">       temp[i] = arr[i];</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = m + <span class="number">1</span>; j &lt;= r; ++j) &#123;</div><div class="line">       temp[j] = arr[j];</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="keyword">int</span> i = l, j = m + <span class="number">1</span>, k = l;</div><div class="line">   <span class="keyword">while</span> (i &lt; m + <span class="number">1</span> &amp;&amp; j &lt; r + <span class="number">1</span>) &#123;</div><div class="line">       <span class="keyword">if</span> (temp[i] &lt;= temp[j]) &#123;</div><div class="line">           arr[k++] = temp[i++];</div><div class="line">       &#125; <span class="keyword">else</span> &#123;</div><div class="line">           arr[k++] = temp[j++];</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">while</span> (i &lt; m + <span class="number">1</span>) &#123;</div><div class="line">       arr[k++] = temp[i++];</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="keyword">while</span> (j &lt; r + <span class="number">1</span>) &#123;</div><div class="line">       arr[k++] = temp[j++];</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>quick sort:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//t: O(nlogn), s: O(1)</span></div><div class="line"><span class="comment">//unstable</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] n)</span> </span>&#123;</div><div class="line">    quickSort(n, <span class="number">0</span>, n.length - <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] n, <span class="keyword">int</span> l, <span class="keyword">int</span> h)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (l &lt; h) &#123;</div><div class="line">        <span class="keyword">int</span> pivotIndex = partition(n, l, h);</div><div class="line">        quickSort(n, l, pivotIndex - <span class="number">1</span>);</div><div class="line">        quickSort(n, pivotIndex + <span class="number">1</span>, h);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//this can also used for quick select</span></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] n, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> pivot = start;</div><div class="line">    <span class="keyword">while</span> (start &lt;= end) &#123;</div><div class="line">        <span class="keyword">while</span> (start &lt;= end &amp;&amp; n[start] &lt;= n[pivot]) &#123;</div><div class="line">            start++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (start &lt;= end &amp;&amp; n[end] &gt; n[pivot]) &#123;</div><div class="line">            end--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (start &lt; end) &#123;</div><div class="line">            swap(n, start, end);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    swap(n, pivot, end);</div><div class="line">    <span class="keyword">return</span> end;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] n, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> temp = n[a];</div><div class="line">    n[a] = n[b];</div><div class="line">    n[b] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>quick select:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// find kth largest number in array</span></div><div class="line"><span class="comment">// avg O(n), worst case: O(n^2), rondomly choose pivot can reduce worst case prob</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> rank = nums.length - k;</div><div class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> hi = nums.length - <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</div><div class="line">        <span class="keyword">int</span> cur = partition(nums, lo, hi);</div><div class="line">        <span class="keyword">if</span>(cur &lt; rank) &#123;</div><div class="line">            lo = cur + <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur &gt; rank) &#123;</div><div class="line">            hi = cur - <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> nums[rank];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Heapsort</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Queue q = <span class="keyword">new</span> PriorityQueue()</div></pre></td></tr></table></figure>
</li>
<li><p>external sort:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">   <span class="comment">/* </span></div><div class="line">   1.For example, for sorting 900 megabytes of data using only 100 megabytes of RAM:</div><div class="line">   2.Read 100 MB of the data in main memory and sort by some conventional method。 Write the sorted data to disk.</div><div class="line">   3.Read the first 10 MB (= 100MB / (9 chunks + 1)) of each sorted chunk into input buffers in main memory and allocate the remaining 10 MB for an output buffer. (In practice, it might provide better performance to make the output buffer larger and the input buffers slightly smaller.)</div><div class="line">   4.Perform a 9-way merge and store the result in the output buffer. Whenever the output buffer fills, write it to the final sorted file and empty it. Whenever any of the 9 input buffers empties, fill it with the next 10 MB of its associated 100 MB sorted chunk until no more data from the chunk is available. This is the key step that makes external merge sort work externally -- because the merge algorithm only makes one pass sequentially through each of the chunks, each chunk does not have to be loaded completely; rather, sequential parts of the chunk can be loaded as needed.</div><div class="line">   */</div><div class="line">Queue q = <span class="keyword">new</span> PriorityQueue()</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="non-compare-based-sort"><a href="#non-compare-based-sort" class="headerlink" title="non-compare based sort"></a>non-compare based sort</h4><ol>
<li><p>count sort:<br>当输入的元素是n个0到k之间的整数时，它的运行时间是Θ(n + k)。计数排序不是比较排序，排序的速度快于任何比较排序算法。<br>example qustions: <a href="https://leetcode.com/problems/sort-characters-by-frequency/" target="_blank" rel="external">sort characters by frequency</a><br><strong>time</strong>: O(n + k)<br><strong>space</strong>: O(n + k)</p>
</li>
<li><p>radix sort:<br>排序过程：将所有待比较数值（正整数）统一为同样的数位长度，数位较短的数前面补零。然后，从最低位开始，依次进行一次排序。这样从最低位排序一直到最高位排序完成以后, 数列就变成一个有序序列。基数排序法将要排序的元素分配至 0~9 个桶。<br><strong>time</strong>:  O(wn) for n keys which are integers of word size w<br><strong>space</strong>: O(w + N)</p>
</li>
<li><p>bucket sort:<br>当使用count sort时, 数组里数值的范围太大怎么办。分范围count sort。<br><strong>time</strong>: O(N + NlogN - NlogM), M为桶的个数<br><strong>space</strong>: O(M)</p>
</li>
</ol>
<hr>
<h2 id="questions-and-thoughts"><a href="#questions-and-thoughts" class="headerlink" title="questions and thoughts"></a>questions and thoughts</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">?</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-Array-Sort/" data-id="civ3ab8en0001qk9z1idapm5f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-tree" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-tree/" class="article-date">
  <time datetime="2016-11-03T03:54:26.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-tree/">summary for tree</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="分类总结之Tree"><a href="#分类总结之Tree" class="headerlink" title="分类总结之Tree"></a>分类总结之Tree</h1><h3 id="basic-knowledge"><a href="#basic-knowledge" class="headerlink" title="basic knowledge"></a>basic knowledge</h3><ul>
<li><p><code>search/traversal</code>:</p>
<ul>
<li><p>preOrder: </p>
<ul>
<li><p>recursion: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>; </div><div class="line">    &#125;</div><div class="line">    visit(root);</div><div class="line">    preOrder(root.left);</div><div class="line">    preOrder(root.right);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>iterative: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// An iterative process to print preorder traversal of Binary tree</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">iterativePreorder</span><span class="params">(Node node)</span> </span>&#123;</div><div class="line">    <span class="comment">// Base Case</span></div><div class="line">    <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// Create an empty stack and push root to it</span></div><div class="line">    Stack&lt;Node&gt; nodeStack = <span class="keyword">new</span> Stack&lt;Node&gt;();</div><div class="line">    nodeStack.push(root);</div><div class="line">    <span class="comment">/* Pop all items one by one. Do following for every popped item</span></div><div class="line">     a) print it</div><div class="line">     b) push its right child</div><div class="line">     c) push its left child</div><div class="line">     Note that right child is pushed first so that left is processed first */</div><div class="line">    <span class="keyword">while</span> (nodeStack.empty() == <span class="keyword">false</span>) &#123;</div><div class="line">        <span class="comment">// Pop the top item from stack and print it</span></div><div class="line">        Node mynode = nodeStack.peek();</div><div class="line">        System.out.print(mynode.data + <span class="string">" "</span>);</div><div class="line">        nodeStack.pop();</div><div class="line">     </div><div class="line">        <span class="comment">// Push right and left children of the popped node to stack</span></div><div class="line">        <span class="keyword">if</span> (mynode.right != <span class="keyword">null</span>) &#123;</div><div class="line">            nodeStack.push(mynode.right);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (mynode.left != <span class="keyword">null</span>) &#123;</div><div class="line">            nodeStack.push(mynode.left);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>inOrder: in-order traversal retrieves data in sorted orde</p>
<ul>
<li><p>recursion:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>; </div><div class="line">    &#125;</div><div class="line">    preOrder(root.left);</div><div class="line">    visit(root);</div><div class="line">    preOrder(root.right);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>iterative: </p>
</li>
</ul>
</li>
<li><p>PostOder</p>
<ul>
<li>recursion:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>; </div><div class="line">    &#125;</div><div class="line">    preOrder(root.left);</div><div class="line">    preOrder(root.right);</div><div class="line">    visit(root);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Level/BFS</p>
<ul>
<li>iterative<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root != <span class="keyword">null</span>) &#123;</div><div class="line">        q.offer(root);</div><div class="line">    &#125; </div><div class="line">    Queue&lt;Node&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</div><div class="line">        <span class="keyword">int</span> size = q.size();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</div><div class="line">            Node cur = q.poll();</div><div class="line">            System.out.print(cur.val + <span class="string">","</span>);</div><div class="line">            <span class="keyword">if</span>(cur.left != <span class="keyword">null</span>) &#123;</div><div class="line">                q.offer(cur.left);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(cur.right != <span class="keyword">null</span>) &#123;</div><div class="line">                q.offer(cur.right);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        System.out.println(<span class="string">"..."</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/" target="_blank" rel="external">Morris Inorder Travelsal</a>: 不需要用stack的iterative方法</p>
</li>
</ul>
</li>
<li><p><code>reconstruction</code>: The trace of a traversal is called a sequentialisation of the tree. The traversal trace is a list of each visited root. No one sequentialisation according to pre-, in- or post-order describes the underlying tree uniquely. Given a tree with distinct elements, <strong>either pre-order or post-order paired with in-order</strong> is sufficient to describe the tree uniquely. However, pre-order with post-order leaves some ambiguity in the tree structure.</p>
</li>
</ul>
<h3 id="binary-search-tree"><a href="#binary-search-tree" class="headerlink" title="binary search tree"></a>binary search tree</h3><ul>
<li>implementation:</li>
</ul>
<h3 id="balanced-binary-search-tree"><a href="#balanced-binary-search-tree" class="headerlink" title="balanced binary search tree"></a>balanced binary search tree</h3><ul>
<li>AVL tree</li>
<li>red black tree</li>
</ul>
<h3 id="binary-indexed-tree-easy-extend-to-2D"><a href="#binary-indexed-tree-easy-extend-to-2D" class="headerlink" title="binary indexed tree(easy extend to 2D)"></a>binary indexed tree(easy extend to 2D)</h3><p>Solved prefix sum problem. Use for range sum query or range sum query 2D. BTW, for reverse-order problem, <strong>you need use element’s value as BIT’s index</strong>. The reason why we need to know bianry index tree, is shorter code and beautiful structure. Less code, Less time.</p>
<ul>
<li><p>1D Binary indexed tree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BIT</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] BIT;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] nums;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BIT</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.nums = nums;</div><div class="line">        <span class="keyword">this</span>.n = nums.length;</div><div class="line">        <span class="keyword">this</span>.BIT = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            init(i, nums[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        i++;</div><div class="line">        <span class="keyword">while</span> (i &lt;= n) &#123;</div><div class="line">            BIT[i] += val;</div><div class="line">            i += (i &amp; -i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> diff = val - nums[i];</div><div class="line">        nums[i] = val;</div><div class="line">        init(i, diff);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        i++;</div><div class="line">        <span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</div><div class="line">            sum += BIT[i];</div><div class="line">            i -= (i &amp; -i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getSum(j) - getSum(i - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>2D Binary indexed tree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//it's very easy to extends to 2D, just image each row inside matrix is also a binary indexed tree</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="segment-tree"><a href="#segment-tree" class="headerlink" title="segment tree"></a><a href="http://www.geeksforgeeks.org/segment-tree-set-1-sum-of-given-range/" target="_blank" rel="external">segment tree</a></h3><p>can be used for range sum, range max/min, array or matrix</p>
<ul>
<li><p>1D Segment Tree for Range Max Query, update should from bottom to top</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SegmentTreeRMQ</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> TreeNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SegmentTreeRMQ</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        root = array.length == <span class="number">0</span> ? <span class="keyword">null</span> : buildTree(array, <span class="number">0</span>, array.length - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        TreeNode p = root;</div><div class="line">        <span class="keyword">while</span> (p.l != p.r) &#123;</div><div class="line">            p = (index &lt;= (p.l + p.r) / <span class="number">2</span>) ? p.left : p.right;</div><div class="line">        &#125;</div><div class="line">        p.max = val;</div><div class="line">        <span class="keyword">while</span> (p.parent != <span class="keyword">null</span>) &#123;</div><div class="line">            p = p.parent;</div><div class="line">            p.max = Math.max(p.left.max, p.right.max);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> maxRange(root, l, r);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//helper function start here</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">maxRange</span><span class="params">(TreeNode root, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (l &gt; r) &#123;</div><div class="line">            <span class="keyword">return</span> Integer.MIN_VALUE;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (root.l == l &amp;&amp; root.r == r) &#123;</div><div class="line">            <span class="keyword">return</span> root.max;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> mid = (root.l + root.r) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> Math.max(maxRange(root.left, l, mid), maxRange(root.right, mid + <span class="number">1</span>, r));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (l &gt; r) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        TreeNode node = <span class="keyword">new</span> TreeNode(l, r);</div><div class="line">        <span class="keyword">if</span> (l == r) &#123;</div><div class="line">            node.max = array[l];</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">        node.left = buildTree(array, l, mid);</div><div class="line">        node.right = buildTree(array, mid + <span class="number">1</span>, r);</div><div class="line">        node.left.parent = node.right.parent = node;</div><div class="line">        node.max = Math.max(node.left.max, node.right.max);</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> l, r, max;</div><div class="line">        TreeNode left, right;</div><div class="line">        TreeNode parent;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.l = l;</div><div class="line">            <span class="keyword">this</span>.r = r;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>2D Segment Tree/Quad tree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> mianjing.google.Tree;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by vee on 10/15/16.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SegmentTree2DRMQ</span> </span>&#123;</div><div class="line"></div><div class="line">    TreeNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SegmentTree2DRMQ</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">        root = matrix.length == <span class="number">0</span> ? <span class="keyword">null</span> : buildTree(matrix, <span class="number">0</span>, <span class="number">0</span>, matrix.length - <span class="number">1</span>, matrix[<span class="number">0</span>].length - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        TreeNode p = root;</div><div class="line">        <span class="keyword">while</span> (p.row1 != p.row2 &amp;&amp; p.col1 != p.col2) &#123;</div><div class="line">            <span class="keyword">int</span> rowMid = (p.row1 + p.row2) / <span class="number">2</span>;</div><div class="line">            <span class="keyword">int</span> colMid = (p.col1 + p.col2) / <span class="number">2</span>;</div><div class="line">            p = (row &lt;= rowMid) ? (col &lt;= colMid ? p.c1 : p.c2 ) : ( col &lt;= colMid ? p.c3 : p.c4);</div><div class="line">        &#125;</div><div class="line">        p.max = val;</div><div class="line">        <span class="keyword">while</span> (p.parent != <span class="keyword">null</span>) &#123;</div><div class="line">            p = p.parent;</div><div class="line">            p.max = Math.max(Math.max(p.c1.max, p.c2.max), Math.max(p.c3.max, p.c4.max));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">queryMax</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> maxRegion(root, row1, col1, row2, col2);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">maxRegion</span><span class="params">(TreeNode p, <span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (p.row1 &gt; row2 || p.col1 &gt; p.col2) &#123;</div><div class="line">            <span class="keyword">return</span> Integer.MIN_VALUE;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (p.row1 == row1 &amp;&amp; p.col1 == col1 &amp;&amp; p.row2 == row2 &amp;&amp; p.col2 == col2) &#123;</div><div class="line">            <span class="keyword">return</span> root.max;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rowM = (p.row1 + p.row2) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> colM = (p.col1 + p.col2) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> Math.max(Math.max(maxRegion(p.c1, row1, col1, rowM, colM), maxRegion(p.c2, row1, colM + <span class="number">1</span>, rowM, col2)),</div><div class="line">                Math.max(maxRegion(p.c3, rowM + <span class="number">1</span>, col1, row2, colM), maxRegion(p.c4, rowM + <span class="number">1</span>, colM + <span class="number">1</span>, row2, col2)));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (row2 &lt; row1 || col2 &lt; col1) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        TreeNode node = <span class="keyword">new</span> TreeNode(row1, col1, row2, col2);</div><div class="line">        <span class="keyword">if</span> (row1 == row2 &amp;&amp; col1 == col2) &#123;</div><div class="line">            node.max = matrix[row1][col1];</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rowMid = (row1 + row2) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> colMid = (col1 + col2) / <span class="number">2</span>;</div><div class="line">        node.c1 = buildTree(matrix, row1, col1, rowMid, colMid);</div><div class="line">        node.c2 = buildTree(matrix, row1, colMid + <span class="number">1</span>, rowMid, col2);</div><div class="line">        node.c3 = buildTree(matrix, rowMid + <span class="number">1</span>, col1, row2, colMid);</div><div class="line">        node.c4 = buildTree(matrix, rowMid + <span class="number">1</span>, colMid + <span class="number">1</span>, row2, col2);</div><div class="line">        node.c1.parent = node.c2.parent = node.c3.parent = node.c4.parent = node;</div><div class="line">        node.max = Math.max(Math.max(node.c1.max, node.c2.max), Math.max(node.c3.max, node.c4.max));</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row1, row2, col1, col2, max;</div><div class="line">        TreeNode c1, c2, c3, c4, parent;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.row1 = row1;</div><div class="line">            <span class="keyword">this</span>.col1 = col1;</div><div class="line">            <span class="keyword">this</span>.row2 = row2;</div><div class="line">            <span class="keyword">this</span>.col2 = col2;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="interval-tree-augmented-tree"><a href="#interval-tree-augmented-tree" class="headerlink" title="interval tree/augmented tree"></a><a href="http://www.geeksforgeeks.org/interval-tree/" target="_blank" rel="external">interval tree/augmented tree</a></h3><p>based on balanced binary search tree,<br>node store interval.left, interval.right, max(is the max value of subtree rooted at this node)<br>used interval.left as key in binary search tree<br>implementation(only used binary search tree, not balanced):<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http:<span class="comment">//www.acmerblog.com/interval-tree-5902.html</span></div></pre></td></tr></table></figure></p>
<h3 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h3><p>prefix tree<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">    TrieNode[] child;</div><div class="line">    <span class="keyword">boolean</span> isLeaf;</div><div class="line">    <span class="comment">// Initialize your data structure here.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</div><div class="line">        child = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">        isLeaf = <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> TrieNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">()</span> </span>&#123;</div><div class="line">        root = <span class="keyword">new</span> TrieNode();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Inserts a word into the trie.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        TrieNode head = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); ++i) &#123;</div><div class="line">            <span class="keyword">char</span> c = word.charAt(i);</div><div class="line">            <span class="keyword">if</span> (head.child[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) &#123;</div><div class="line">                head.child[c - <span class="string">'a'</span>] = <span class="keyword">new</span> TrieNode();</div><div class="line">            &#125;</div><div class="line">            head = head.child[c - <span class="string">'a'</span>];</div><div class="line">        &#125;</div><div class="line">        head.isLeaf = <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Returns if the word is in the trie.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> match(word, <span class="keyword">false</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Returns if there is any word in the trie</span></div><div class="line">    <span class="comment">// that starts with the given prefix.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startsWith</span><span class="params">(String prefix)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> match(prefix, <span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">match</span><span class="params">(String word, <span class="keyword">boolean</span> isStartWith)</span> </span>&#123;</div><div class="line">        TrieNode head = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); ++i) &#123;</div><div class="line">            <span class="keyword">char</span> c = word.charAt(i);</div><div class="line">            head = head.child[c - <span class="string">'a'</span>];</div><div class="line">            <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> isStartWith ? <span class="keyword">true</span> : head.isLeaf;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h3><ul>
<li>PriorityQueue vs Heap</li>
<li>Heap implementation</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-tree/" data-id="civ3ab8eu0004qk9zo64142ec" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-graph" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-graph/" class="article-date">
  <time datetime="2016-11-03T03:54:18.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-graph/">summary for graph</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="分类总结之Graph"><a href="#分类总结之Graph" class="headerlink" title="分类总结之Graph"></a>分类总结之Graph</h1><h3 id="basic-knowledge"><a href="#basic-knowledge" class="headerlink" title="basic knowledge"></a>basic knowledge</h3><ul>
<li>search/traverse:<ul>
<li>dfs: <ul>
<li>recursion: same memory cost as iterative way, stack memory .vs. heap memory</li>
<li>iterative: stack</li>
<li>time complexity: O(V + E)</li>
<li>use case: Generate Maze</li>
</ul>
</li>
<li>bfs:<ul>
<li>recursion: no</li>
<li>iterative: Queue</li>
<li>time complexity: O(V + E)</li>
<li>use case: Min distance</li>
</ul>
</li>
</ul>
</li>
<li>storage:<ul>
<li>objects and pointers:</li>
<li>matrix:</li>
<li>adjacency list:</li>
</ul>
</li>
</ul>
<h3 id="undirected-graph"><a href="#undirected-graph" class="headerlink" title="undirected graph"></a><a href="http://algs4.cs.princeton.edu/41graph/" target="_blank" rel="external">undirected graph</a></h3><ul>
<li>shortest path: BFS</li>
<li>exist Path or print one valid path: DFS</li>
<li><p>cycle-detection: dfs with visited and parent check, <a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="external">LC261:Graph Valid Tree</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CycleDetectionInUndirectedGraph</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">boolean</span>[] visit = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (!visit[i]) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(i, visit, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsCycle</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">boolean</span>[] visit, List&lt;List&lt;Integer&gt;&gt; graph)</span> </span>&#123;</div><div class="line">        visit[i] = <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> node : graph.get(i)) &#123;</div><div class="line">            <span class="keyword">if</span> (!visit[node]) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(node, visit, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (node != i) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>connectivity</p>
<ul>
<li>static: dfs, <a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="external">LC261:Graph Valid Tree</a>, bfs, <a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/" target="_blank" rel="external">LC323:Number of Connected Components in an Undirected Graph</a></li>
<li>dynamic: union find</li>
</ul>
</li>
</ul>
<h3 id="directed-graph"><a href="#directed-graph" class="headerlink" title="directed graph"></a><a href="http://algs4.cs.princeton.edu/42digraph/" target="_blank" rel="external">directed graph</a></h3><ul>
<li>shortest path: BFS</li>
<li><p>dependency: Topological sort: <a href="https://leetcode.com/problems/course-schedule/" target="_blank" rel="external">course schedule</a>, <a href="https://leetcode.com/problems/alien-dictionary/" target="_blank" rel="external">alien dictionary</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">printTologicalOrder</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">int</span>[] inDegree = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">    <span class="comment">//build indegree array</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">        <span class="keyword">for</span> (Integer node : graph.get(i)) &#123;</div><div class="line">            inDegree[node]++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//push node with 0 indegree to queue</span></div><div class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123;</div><div class="line">            q.offer(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//delete node with 0 indegree and related edge</span></div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</div><div class="line">        Integer cur = q.poll();</div><div class="line">        res.add(cur);</div><div class="line">        <span class="keyword">for</span> (Integer node : graph.get(cur)) &#123;</div><div class="line">            inDegree[node]--;</div><div class="line">            <span class="keyword">if</span> (inDegree[node] == <span class="number">0</span>) &#123;</div><div class="line">                q.offer(node);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>cycle-detection: <a href="http://www.geeksforgeeks.org/detect-cycle-in-a-graph/" target="_blank" rel="external">DFS, white, grey, black</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CycleDetectionInDirectedGraph</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="comment">//o represent white, 1 represent grey, 2 represent black</span></div><div class="line">        <span class="keyword">int</span>[] nodeColors = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (nodeColors[i] == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(i, nodeColors, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsCycle</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span>[] nodeColors, List&lt;List&lt;Integer&gt;&gt; graph)</span> </span>&#123;</div><div class="line">        nodeColors[i] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> node : graph.get(i)) &#123;</div><div class="line">            <span class="keyword">if</span> (nodeColors[node] == <span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nodeColors[node] == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(node, nodeColors, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        nodeColors[i] = <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>connectivity</p>
<ul>
<li>static: dfs</li>
<li>dynamic: union find</li>
</ul>
</li>
</ul>
<h3 id="shortest-path-algorithm"><a href="#shortest-path-algorithm" class="headerlink" title="shortest path algorithm"></a><a href="https://en.wikipedia.org/wiki/Shortest_path_problem" target="_blank" rel="external">shortest path algorithm</a></h3><ul>
<li><p>Dijkstra: 求一个点到其他所有点的最短路径。time complexity with PriorityQueue: O(E + VlogV)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wait</div></pre></td></tr></table></figure>
</li>
<li><p>A*  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wait</div></pre></td></tr></table></figure>
</li>
<li><p>floyd</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wait</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="useful-data-structure"><a href="#useful-data-structure" class="headerlink" title="useful data structure"></a>useful data structure</h3><ul>
<li><a href="http://www.cs.princeton.edu/courses/archive/spring07/cos226/lectures/01union-find.pdf" target="_blank" rel="external">union find</a>(for connectivity): <ul>
<li><a href="http://www.geeksforgeeks.org/union-find/" target="_blank" rel="external">http://www.geeksforgeeks.org/union-find/</a></li>
<li><a href="http://www.geeksforgeeks.org/union-find-algorithm-set-2-union-by-rank/" target="_blank" rel="external">http://www.geeksforgeeks.org/union-find-algorithm-set-2-union-by-rank/</a><ul>
<li>quick find:  find(u, v): O(1), union(u, v): O(N)</li>
<li>quick union: find(u, v): O(N), union(u, v): O(1)</li>
<li>weighted quick union: find(u, v): O(logN), union(u, v): O(logN)</li>
<li>weighted with path compression: find(u, v): O(log<em>N), union(u, v): O(log</em>N)  —-<a href="https://en.wikipedia.org/wiki/Iterated_logarithm" target="_blank" rel="external">iterated logarithm, almost constant</a></li>
<li>implementation:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightedQuickUnionWithPC</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] size;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] id;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeightedQuickUnionWithPC</span><span class="params">(<span class="keyword">int</span> length)</span></span>&#123;</div><div class="line">        <span class="keyword">this</span>.count = length;</div><div class="line">        <span class="keyword">this</span>.id = <span class="keyword">new</span> <span class="keyword">int</span>[length];</div><div class="line">        <span class="keyword">this</span>.size = <span class="keyword">new</span> <span class="keyword">int</span>[length];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i) &#123;</div><div class="line">            size[i] = <span class="number">1</span>;</div><div class="line">            id[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.count;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//may not useful</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> parent(i) == parent(j);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> rootI = parent(i);</div><div class="line">        <span class="keyword">int</span> rootJ = parent(j);</div><div class="line">        <span class="keyword">if</span> (rootI == rootJ) <span class="keyword">return</span>;</div><div class="line">        <span class="comment">// make smaller root point to larger one</span></div><div class="line">        <span class="keyword">int</span> rootSmall = size[rootI] &lt; size[rootJ] ? rootI : rootJ;</div><div class="line">        <span class="keyword">int</span> rootLarge = size[rootI] &lt; size[rootJ] ? rootJ : rootI;</div><div class="line">        id[rootSmall] = rootLarge;</div><div class="line">        size[rootLarge] += size[rootSmall];</div><div class="line">        count--;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> root = i;</div><div class="line">        <span class="keyword">while</span> (root != id[root]) &#123;</div><div class="line">            root = id[root];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (root != i) &#123;</div><div class="line">            <span class="keyword">int</span> old = id[i];</div><div class="line">            id[i] = root;</div><div class="line">            i = old;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Question-in-leetcode"><a href="#Question-in-leetcode" class="headerlink" title="Question in leetcode"></a>Question in leetcode</h3><h3 id="Question-in-mianjing"><a href="#Question-in-mianjing" class="headerlink" title="Question in mianjing"></a>Question in mianjing</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-graph/" data-id="civ3ab8et0003qk9zviloidce" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/03/summary-for-Binary-Search/">summary for Binary Search</a>
          </li>
        
          <li>
            <a href="/2016/11/02/summary-for-Heap-PriorityQueue/">summary for Heap PriorityQueue</a>
          </li>
        
          <li>
            <a href="/2016/11/02/summary-for-Array-Sort/">summary for Array Sort</a>
          </li>
        
          <li>
            <a href="/2016/11/02/summary-for-tree/">summary for tree</a>
          </li>
        
          <li>
            <a href="/2016/11/02/summary-for-graph/">summary for graph</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>