<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-onsite-interview-流程" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/06/onsite-interview-流程/" class="article-date">
  <time datetime="2016-11-06T23:14:23.000Z" itemprop="datePublished">2016-11-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/06/onsite-interview-流程/">onsite interview 流程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>45 min</p>
<ol>
<li><p>1 min: you got a question</p>
</li>
<li><p>2 min:</p>
<ul>
<li>make sure you understand the question, clarify the question</li>
<li>let interviewer give you some example, run some example</li>
<li><strong>state your assumption(write down)</strong></li>
<li>clarify the function signature</li>
</ul>
</li>
<li><p>7 min:</p>
<ul>
<li>think a method, basic run time analsis, tell interviewer,</li>
<li>if it’s not ok, find a better solution</li>
<li>if it’s ok, write code</li>
</ul>
</li>
<li><p>15 min:</p>
<ul>
<li><strong>check input</strong></li>
<li><strong>write comment/document</strong></li>
<li><strong>write test case</strong></li>
<li>if test case pass, tell interviewer you are done</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/06/onsite-interview-流程/" data-id="cjqshy50o0000d29z6jprth1t" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-stack-related-question" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/05/summary-for-stack-related-question/" class="article-date">
  <time datetime="2016-11-05T12:37:26.000Z" itemprop="datePublished">2016-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/05/summary-for-stack-related-question/">summary for stack related question</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Stack-Deque-Queue-related-questions"><a href="#Stack-Deque-Queue-related-questions" class="headerlink" title="Stack, Deque, Queue related questions"></a>Stack, Deque, Queue related questions</h1><ul>
<li><p><a href="https://leetcode.com/problems/basic-calculator/" target="_blank" rel="external">Basic Calculator</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i) &#123;</div><div class="line">            <span class="keyword">char</span> c = s.charAt(i);</div><div class="line">            <span class="keyword">if</span> (Character.isDigit(c)) &#123;</div><div class="line">                <span class="keyword">int</span> sum = s.charAt(i) - <span class="string">'0'</span>;</div><div class="line">                <span class="keyword">while</span> (i + <span class="number">1</span> &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + <span class="number">1</span>))) &#123;</div><div class="line">                    sum = sum * <span class="number">10</span> + s.charAt(i + <span class="number">1</span>) - <span class="string">'0'</span>;</div><div class="line">                    i++;</div><div class="line">                &#125;</div><div class="line">                res += sign * sum;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'+'</span> || c == <span class="string">'-'</span>) &#123;</div><div class="line">                sign = c == <span class="string">'+'</span> ? <span class="number">1</span> : -<span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'('</span>) &#123;</div><div class="line">                stack.addFirst(res);</div><div class="line">                stack.addFirst(sign);</div><div class="line">                res = <span class="number">0</span>;</div><div class="line">                sign = <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">')'</span>) &#123;</div><div class="line">                <span class="keyword">int</span> lastSign = stack.pollFirst();</div><div class="line">                <span class="keyword">int</span> lastRes = stack.pollFirst();</div><div class="line">                res = lastRes + lastSign * res;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/flatten-nested-list-iterator/" target="_blank" rel="external">Flatten Nested List Iterator</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//consider the situation like [[], 1, 2], should put populate stack logic in hasNext method</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NestedIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Deque&lt;NestedInteger&gt; stack;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NestedIterator</span><span class="params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;</div><div class="line">        stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nestedList.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">            stack.addFirst(nestedList.get(i));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> stack.removeFirst().getInteger();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; !stack.peekFirst().isInteger()) &#123;</div><div class="line">            List&lt;NestedInteger&gt; nestedList = stack.removeFirst().getList();</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = nestedList.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">                stack.addFirst(nestedList.get(i));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> !stack.isEmpty();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Min Stack</p>
</li>
<li><p>Sliding Window Maximum</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//deque: time complexity: O(n)</span></div><div class="line"><span class="comment">//store what in the queue?  index</span></div><div class="line"><span class="comment">//the element smaller than right in the queue are useless, why? before right one got out of the deque,</span></div><div class="line"><span class="comment">//they have no chance to be max. However, left one always get out before right one. so, make the element inside queue</span></div><div class="line"><span class="comment">//like a &gt; b &gt; c, how to achieve that? from the right side(not left side) of queue, poll element smaller than current element</span></div><div class="line"><span class="comment">//base on this rule, leftest element in queue are the max Element.</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> nums;</div><div class="line">        &#125;</div><div class="line">        Deque&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> [] res = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length - k + <span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</div><div class="line">            <span class="comment">// remove numbers out of range k</span></div><div class="line">            <span class="keyword">while</span> (!q.isEmpty() &amp;&amp; q.peekFirst() &lt; i - k + <span class="number">1</span>) &#123;</div><div class="line">                q.pollFirst();</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// remove smaller numbers in k range as they are useless</span></div><div class="line">            <span class="keyword">while</span> (!q.isEmpty() &amp;&amp; nums[q.peekLast()] &lt; nums[i]) &#123;</div><div class="line">                q.pollLast();</div><div class="line">            &#125;</div><div class="line">            q.offerLast(i);</div><div class="line">            <span class="keyword">if</span> (i &gt;= k - <span class="number">1</span>) &#123;</div><div class="line">                res[i - k + <span class="number">1</span>] = nums[q.peekFirst()];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>2d Sliding Window Maximum</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//假设n * n的矩阵，要求k * k的结果</span></div><div class="line"><span class="comment">//类似shrink的操作, 先对每行做一个slide window maximum。这样子矩阵变成了 n * k。</span></div><div class="line"><span class="comment">//再对每列做slide window maximum，这样子矩阵就编程了 k * k.</span></div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/remove-k-digits/" target="_blank" rel="external">Remove K Digits</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//值得写几遍的题目，很多edge case要考虑。</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">removeKdigits</span><span class="params">(String num, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> removed = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length(); ++i) &#123;</div><div class="line">            <span class="keyword">int</span> cur = num.charAt(i) - <span class="string">'0'</span>;</div><div class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peekFirst() &gt; cur &amp;&amp; removed &lt; k) &#123;</div><div class="line">                stack.removeFirst();</div><div class="line">                removed++;</div><div class="line">            &#125;</div><div class="line">            stack.addFirst(cur);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (removed &lt; k) &#123;</div><div class="line">            stack.removeFirst();</div><div class="line">            removed++;</div><div class="line">        &#125;</div><div class="line">        StringBuilder res = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peekLast() == <span class="number">0</span>) &#123;</div><div class="line">            stack.removeLast();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">            res.append(stack.removeFirst());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res.length() == <span class="number">0</span> ? <span class="string">"0"</span> : res.reverse().toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Index Of First Larger After Self</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//G 家面经题, 返回数组的每个元素是原数组中右边的第一个大于该位置元素的 index.</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] firstLargerAfterSelf(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">    <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</div><div class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt; -<span class="number">1</span>; --i) &#123;</div><div class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums[stack.peekLast()] &lt;= nums[i]) &#123;</div><div class="line">            stack.pollLast();</div><div class="line">        &#125;</div><div class="line">        ans[i] = stack.isEmpty()? -<span class="number">1</span> :stack.peekLast();</div><div class="line">        stack.offerLast(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/05/summary-for-stack-related-question/" data-id="cjqshy5190008d29zdj06z5oq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-Design-Data-Structure" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/05/summary-for-Design-Data-Structure/" class="article-date">
  <time datetime="2016-11-05T12:36:36.000Z" itemprop="datePublished">2016-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/05/summary-for-Design-Data-Structure/">summary for Design, Data Structure</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p><a href="https://leetcode.com/problems/design-hit-counter/" target="_blank" rel="external">Design hit counter</a></p>
</li>
<li><p><a href="https://leetcode.com/problems/flatten-2d-vector/" target="_blank" rel="external">Flatten 2D Vector</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> indexList, indexEle;</div><div class="line">    List&lt;List&lt;Integer&gt;&gt; vec; </div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</div><div class="line">        indexList = <span class="number">0</span>;</div><div class="line">        indexEle = <span class="number">0</span>;</div><div class="line">        vec = vec2d;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> vec.get(indexList).get(indexEle++);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span>(indexList &lt; vec.size())&#123;</div><div class="line">            <span class="keyword">if</span>(indexEle &lt; vec.get(indexList).size())</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            <span class="keyword">else</span>&#123;</div><div class="line">                indexList++;</div><div class="line">                indexEle = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/insert-delete-getrandom-o1/" target="_blank" rel="external">Insert Delete GetRandom O(1)</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//index to val</span></div><div class="line"><span class="keyword">private</span> List&lt;Integer&gt; values;</div><div class="line"><span class="comment">//val to index</span></div><div class="line"><span class="comment">//if delete, swap the deleted one with last one in array</span></div><div class="line"><span class="comment">//if duplicate exist, use Map&lt;Integer, Set&lt;Integer&gt;&gt; indexMap</span></div><div class="line"><span class="keyword">private</span> Map&lt;Integer, Integer&gt; indexMap;</div><div class="line"><span class="keyword">private</span> Random random;</div></pre></td></tr></table></figure>
</li>
<li><p>rate limiter<br>//Token Bucket的实现原理是计算请求时间和上一次请求时间之间内增加的令牌数放入桶，<br>//比较桶内的令牌数是否足够用于请求，如果不够就认为过载，否则减去响应令牌，<br>//设置上一次请求时间为本次请求时间。注意下面的take方法实现，虽然只有不到十行，但准确地解决了请求速度限制问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TokenBucket</span> </span>&#123;</div><div class="line"> </div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> capacity;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> tokensPerSeconds;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">int</span> tokens = <span class="number">0</span>;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">long</span> timestamp = System.currentTimeMillis();</div><div class="line"> </div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">TokenBucket</span><span class="params">(<span class="keyword">int</span> tokensPerUnit, TimeUnit unit)</span> </span>&#123;</div><div class="line">    capacity = tokensPerSeconds = (<span class="keyword">int</span>) (tokensPerUnit / unit.toSeconds(<span class="number">1L</span>));</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">take</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">long</span> now = System.currentTimeMillis();</div><div class="line">    tokens += (<span class="keyword">int</span>) ((now - timestamp) * tokensPerSeconds / <span class="number">1000</span>);</div><div class="line">    <span class="keyword">if</span> (tokens &gt; capacity) tokens = capacity;</div><div class="line">    timestamp = now;</div><div class="line">    <span class="keyword">if</span> (tokens &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    tokens--;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>LRU</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//linkedHashMap</span></div><div class="line"><span class="keyword">this</span>.linkedHashMap = <span class="keyword">new</span> LinkedHashMap&lt;Integer,Integer&gt;(capacity)&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">removeEldestEntry</span><span class="params">(Map.Entry eldest)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> size() &gt; capacity;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">//or implement it</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</div><div class="line">        Node prev;</div><div class="line">        Node next;</div><div class="line">        <span class="keyword">int</span> key;</div><div class="line">        <span class="keyword">int</span> value;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span></span>&#123;</div><div class="line">            <span class="keyword">this</span>.key = key;</div><div class="line">            <span class="keyword">this</span>.value = value;</div><div class="line">            <span class="keyword">this</span>.prev = <span class="keyword">null</span>;</div><div class="line">            <span class="keyword">this</span>.next = <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> capacity;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HashMap&lt;Integer,Node&gt; hashMap;</div><div class="line">    <span class="keyword">private</span> Node head;</div><div class="line">    <span class="keyword">private</span> Node tail;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache1</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.capacity = capacity;</div><div class="line">        <span class="keyword">this</span>.hashMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">this</span>.head = <span class="keyword">new</span> Node(-<span class="number">1</span>,-<span class="number">1</span>);</div><div class="line">        <span class="keyword">this</span>.tail = <span class="keyword">new</span> Node(-<span class="number">1</span>,-<span class="number">1</span>);</div><div class="line">        head.next = tail;</div><div class="line">        tail.prev = head;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(!hashMap.containsKey(key)) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            Node cur = hashMap.get(key);</div><div class="line">            moveToHead(cur);</div><div class="line">            <span class="keyword">return</span> cur.value;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(!hashMap.containsKey(key))&#123;</div><div class="line">            Node temp = <span class="keyword">new</span> Node(key, value);</div><div class="line">            hashMap.put(key,temp);</div><div class="line">            addToHead(temp);</div><div class="line">            <span class="keyword">if</span>(hashMap.size() &gt; capacity) &#123;</div><div class="line">                hashMap.remove(tail.prev.key);</div><div class="line">                removeTail();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;</div><div class="line">            hashMap.get(key).value = value;</div><div class="line">            moveToHead(hashMap.get(key));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(Node cur)</span></span>&#123;</div><div class="line">        cur.prev.next = cur.next;</div><div class="line">        cur.next.prev = cur.prev;</div><div class="line">        addToHead(cur);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(Node cur)</span></span>&#123;</div><div class="line">        cur.next = head.next;</div><div class="line">        cur.prev = head;</div><div class="line">        head.next.prev = cur;</div><div class="line">        head.next = cur;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">removeTail</span><span class="params">()</span></span>&#123;</div><div class="line">        tail.prev = tail.prev.prev;</div><div class="line">        tail.prev.next = tail;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Zigzag Iterator</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ZigzagIterator</span> </span>&#123;</div><div class="line">    <span class="comment">//this is iterator problem. think about iterator in java.</span></div><div class="line">    <span class="comment">//this is k list, use list to store the iterator</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Queue&lt;Iterator&lt;Integer&gt;&gt; iterators;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ZigzagIterator</span><span class="params">(List&lt;Integer&gt; v1, List&lt;Integer&gt; v2)</span> </span>&#123;</div><div class="line">        iterators = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span>(v1 != <span class="keyword">null</span> &amp;&amp; !v1.isEmpty()) &#123;</div><div class="line">            iterators.add(v1.iterator());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(v2 != <span class="keyword">null</span> &amp;&amp; !v2.isEmpty()) &#123;</div><div class="line">            iterators.add(v2.iterator());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        Iterator&lt;Integer&gt; curIterator = iterators.poll();</div><div class="line">        <span class="keyword">int</span> res = curIterator.next();</div><div class="line">        <span class="keyword">if</span> (curIterator.hasNext()) &#123;</div><div class="line">            iterators.offer(curIterator);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> !iterators.isEmpty();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Design a blockingQueue</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlockingQueue</span>&lt;<span class="title">T</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">private</span> LinkedList&lt;T&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>  limit = <span class="number">10</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BlockingQueue</span><span class="params">(<span class="keyword">int</span> limit)</span></span>&#123;</div><div class="line">        <span class="keyword">this</span>.limit = limit;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(T item)</span></span></div><div class="line">            <span class="keyword">throws</span> InterruptedException  &#123;</div><div class="line">        <span class="comment">// Block if the queue is full</span></div><div class="line">        <span class="keyword">while</span>(<span class="keyword">this</span>.queue.size() == <span class="keyword">this</span>.limit) &#123;</div><div class="line">            wait();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// Queue is empty, queue is about to have one item</span></div><div class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.queue.size() == <span class="number">0</span>) &#123;</div><div class="line">            notifyAll();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">this</span>.queue.offerLast(item);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> T <span class="title">dequeue</span><span class="params">()</span></span></div><div class="line">            <span class="keyword">throws</span> InterruptedException&#123;</div><div class="line">        <span class="comment">// Block if the queue if empty</span></div><div class="line">        <span class="keyword">while</span>(<span class="keyword">this</span>.queue.size() == <span class="number">0</span>)&#123;</div><div class="line">            wait();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// Queue is full, queue is about to have one slot</span></div><div class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.queue.size() == <span class="keyword">this</span>.limit)&#123;</div><div class="line">            notifyAll();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.queue.pollFirst();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Simulate Rain To Road</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//you have 1 meter walkroad, and randomly generate rain, the rain is 1 cm. simulate how many rain drops to cover all the 1 meter</span></div><div class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Interval</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> left = <span class="number">0</span>, right = <span class="number">0.01</span>;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isWet</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> left &gt;= right;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">simulateRainDrop</span><span class="params">()</span> </span>&#123;</div><div class="line">    Interval[] sidewalk = <span class="keyword">new</span> Interval[<span class="number">100</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</div><div class="line">        sidewalk[i] = <span class="keyword">new</span> Interval();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>, wetCnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (wetCnt &lt; <span class="number">100</span>) &#123;</div><div class="line">        ++cnt;</div><div class="line">        <span class="keyword">double</span> p = Math.random();</div><div class="line">        <span class="keyword">double</span> left = p - <span class="number">0.005</span>;</div><div class="line">        <span class="keyword">double</span> right = p + <span class="number">0.005</span>;</div><div class="line">        <span class="keyword">if</span> (left &gt;= <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">int</span> idx = (<span class="keyword">int</span>) (left / <span class="number">0.01</span>);</div><div class="line">            <span class="keyword">if</span> (!sidewalk[idx].isWet()) &#123;</div><div class="line">                <span class="keyword">double</span> iright = left - idx * <span class="number">0.01</span>;</div><div class="line">                <span class="keyword">if</span> (iright &lt; sidewalk[idx].right) &#123;</div><div class="line">                    sidewalk[idx].right = iright;</div><div class="line">                    <span class="keyword">if</span> (sidewalk[idx].isWet())</div><div class="line">                        ++wetCnt;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (right &lt;= <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">int</span> idx = (<span class="keyword">int</span>) (right / <span class="number">0.01</span>);</div><div class="line">            <span class="keyword">if</span> (!sidewalk[idx].isWet()) &#123;</div><div class="line">                <span class="keyword">double</span> ileft = right - idx * <span class="number">0.01</span>;</div><div class="line">                <span class="keyword">if</span> (ileft &gt; sidewalk[idx].left) &#123;</div><div class="line">                    sidewalk[idx].left = ileft;</div><div class="line">                    <span class="keyword">if</span> (sidewalk[idx].isWet())</div><div class="line">                        ++wetCnt;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    System.out.println(cnt);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>0-1 uncovered, implement two method void cover(double a, double b), isAllCovered()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line"></div><div class="line">* Stock Price Update And Insert, get Max, Min, Latest</div><div class="line">```java</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stock</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> min, max, latest; <span class="comment">// prices</span></div><div class="line">    <span class="keyword">long</span> curr_time;</div><div class="line">    HashMap&lt;Long, Record&gt; timeToRecord;</div><div class="line">    TreeSet&lt;Record&gt; records;</div><div class="line">    ....</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpdate</span><span class="params">(<span class="keyword">long</span> time, <span class="keyword">int</span> price)</span> </span>&#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCorrect</span><span class="params">(<span class="keyword">long</span> time, <span class="keyword">int</span> price)</span> </span>&#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Top K voted<br>if given a vote stream, vote is just condidate name, we should use </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">先有那个sortedArray存排名好了的结果,每次vote的时候更新array。然后用了</div><div class="line">三个 map:</div><div class="line"><span class="function">map Person to His Votes</span></div><div class="line">map Votes to <span class="title">Ranking</span> <span class="params">(这里我假设的所有得票相同的人排名一样)</span> map Person to Array Index</div><div class="line">比如当前是[<span class="title">a</span><span class="params">(<span class="number">10</span>)</span>, <span class="title">b</span><span class="params">(<span class="number">9</span>)</span>, <span class="title">c</span><span class="params">(<span class="number">8</span>)</span>, <span class="title">d</span><span class="params">(<span class="number">8</span>)</span>, <span class="title">e</span><span class="params">(<span class="number">8</span>)</span>, <span class="title">f</span><span class="params">(<span class="number">5</span>)</span>] 然后 e 加了一票</div><div class="line">那么将 e 和 c 在 array 里面的位置调换</div></pre></td></tr></table></figure>
</li>
</ul>
<p>but if given timestamp and topk(timestap)<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//给一堆 votes(candidate, timestamp),问当前时刻 T 得票最高的人是谁。Follow up 问得票最高 的前K个人</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">top_k_votes</span> </span>&#123;</div><div class="line">	Map&lt;Long, HashMap&lt;String, Integer&gt;&gt; votes = <span class="keyword">new</span> HashMap&lt;Long, HashMap&lt;String, Integer&gt;&gt;();</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String name, <span class="keyword">long</span> timestamp)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span> (votes.containsKey(timestamp)) &#123;</div><div class="line">			HashMap&lt;String, Integer&gt; tmp = votes.get(timestamp);</div><div class="line">			tmp.put(name, tmp.get(name) + <span class="number">1</span>);</div><div class="line">			votes.put(timestamp, tmp);</div><div class="line"></div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			Map&lt;String, Integer&gt; tmp = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</div><div class="line">			tmp.put(name, <span class="number">1</span>);</div><div class="line">			votes.put(timestamp, (HashMap&lt;String, Integer&gt;) tmp);</div><div class="line"></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topK</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">long</span> timestamp)</span> </span>&#123;</div><div class="line">		<span class="keyword">long</span> time = <span class="number">0</span>;</div><div class="line">		HashMap&lt;String, Integer&gt; globalCount = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</div><div class="line"></div><div class="line">		<span class="keyword">for</span> (Map.Entry&lt;Long, HashMap&lt;String, Integer&gt;&gt; entry : votes.entrySet()) &#123;</div><div class="line">			<span class="keyword">if</span> (entry.getKey() &lt;= timestamp) &#123;</div><div class="line"></div><div class="line">				HashMap&lt;String, Integer&gt; tmp = entry.getValue();</div><div class="line"></div><div class="line">				<span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; e : tmp.entrySet()) &#123;</div><div class="line">					<span class="keyword">if</span> (globalCount.containsKey(e.getKey())) &#123;</div><div class="line">						globalCount.put(e.getKey(), globalCount.get(e.getKey()) + <span class="number">1</span>);</div><div class="line">					&#125; <span class="keyword">else</span> &#123;</div><div class="line">						globalCount.put(e.getKey(), <span class="number">1</span>);</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line"></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		List&lt;Entry&lt;String, Integer&gt;&gt; list = <span class="keyword">new</span> LinkedList&lt;Entry&lt;String, Integer&gt;&gt;(globalCount.entrySet());</div><div class="line"></div><div class="line">		<span class="comment">// Sorting the list based on values</span></div><div class="line">		Collections.sort(list, <span class="keyword">new</span> Comparator&lt;Entry&lt;String, Integer&gt;&gt;() &#123;</div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Entry&lt;String, Integer&gt; o1, Entry&lt;String, Integer&gt; o2)</span> </span>&#123;</div><div class="line"></div><div class="line">				<span class="keyword">return</span> o1.getValue().compareTo(o2.getValue());</div><div class="line"></div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">		<span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span> (Entry&lt;String, Integer&gt; s : globalCount.entrySet()) &#123;</div><div class="line">			<span class="keyword">if</span> (i == k) &#123;</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			&#125;</div><div class="line">			res.add(s.getKey());</div><div class="line">			i++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> res;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/05/summary-for-Design-Data-Structure/" data-id="cjqshy50x0003d29zeuka9o17" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-dp" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/05/summary-for-dp/" class="article-date">
  <time datetime="2016-11-05T12:35:58.000Z" itemprop="datePublished">2016-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/05/summary-for-dp/">summary for dp</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="keypoint"><a href="#keypoint" class="headerlink" title="keypoint"></a>keypoint</h2><ol>
<li><p>find the Recurrence formula</p>
</li>
<li><p>to see if we can get general formula by 求出特征根方程，看解的个数。</p>
</li>
<li><p>top down(recursion) is easy to write</p>
</li>
<li><p>but interviewer may want the bottom up way(iterative)</p>
</li>
<li><p>there may need two recurrence formula, and one depend another</p>
</li>
</ol>
<h3 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h3><ul>
<li><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/" target="_blank" rel="external">Best Time To Buy And Sell Stock With Cooldown</a><br>buy[i] = Math.max(buy[i - 1], sell[i - 2] - prices[i]);<br>sell[i] = Math.max(sell[i - 1], buy[i - 1] + prices[i]);<br>buy[i] 表示到i哪天为止，最后一个交易动作是buy的最大profit。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> buy = Integer.MIN_VALUE, pre_buy = <span class="number">0</span>, sell = <span class="number">0</span>, pre_sell = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> price : prices) &#123;</div><div class="line">            pre_buy = buy;</div><div class="line">            buy = Math.max(pre_sell - price, pre_buy);</div><div class="line">            pre_sell = sell;</div><div class="line">            sell = Math.max(pre_buy + price, pre_sell);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sell;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/bomb-enemy/" target="_blank" rel="external">Bomb Enemy</a><br>rowCache, colCache[]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxKilledEnemies</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>, row = grid.length, col = grid[<span class="number">0</span>].length;</div><div class="line">    <span class="keyword">int</span> rowCache = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span>[] colCache = <span class="keyword">new</span> <span class="keyword">int</span>[col];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; row; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (j == <span class="number">0</span> || grid[i][j-<span class="number">1</span>] == <span class="string">'W'</span>) &#123;</div><div class="line">                rowCache = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &lt; col &amp;&amp; grid[i][k] != <span class="string">'W'</span>; k++) &#123;</div><div class="line">                    rowCache += (grid[i][k] == <span class="string">'E'</span> ? <span class="number">1</span> : <span class="number">0</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || grid[i-<span class="number">1</span>][j] == <span class="string">'W'</span>) &#123;</div><div class="line">                colCache[j] = <span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = i;k &lt; row &amp;&amp; grid[k][j] != <span class="string">'W'</span>; k++) &#123;</div><div class="line">                    colCache[j] += (grid[k][j] == <span class="string">'E'</span> ? <span class="number">1</span> :<span class="number">0</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="string">'0'</span>) &#123;</div><div class="line">                ret = Math.max(ret, rowCache + colCache[j]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/burst-balloons/" target="_blank" rel="external">burst balloons</a><br>dp[i][j] = max(dp[i][j], nums[i - 1]<em>nums[k]</em>nums[j + 1] + dp[i][k - 1] + dp[k + 1][j])      ( i ≤ k ≤ j )</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> n = nums.length;</div><div class="line">    <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">2</span>];</div><div class="line">    num[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    num[n + <span class="number">1</span>] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">        num[i] = nums[i - <span class="number">1</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">2</span>][n + <span class="number">2</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">        dp[i][i] = num[i - <span class="number">1</span>] * num[i] * num[i + <span class="number">1</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = j; i &gt; <span class="number">0</span>; --i) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt;= j; ++k) &#123;</div><div class="line">                <span class="keyword">int</span> bonus = num[i - <span class="number">1</span>] * num[k] * num[j + <span class="number">1</span>] + dp[i][k - <span class="number">1</span>] + dp[k + <span class="number">1</span>][j];</div><div class="line">                dp[i][j] = Math.max(dp[i][j], bonus);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[<span class="number">1</span>][n];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/combination-sum-iv/" target="_blank" rel="external">Combination Sum IV</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">combinationSum4</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[target + <span class="number">1</span>];</div><div class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    Arrays.sort(nums);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; target + <span class="number">1</span>; ++i) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</div><div class="line">            <span class="keyword">if</span> (num &gt; i) <span class="keyword">break</span>;</div><div class="line">            dp[i] += dp[i - num];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[target];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Edit Distance</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*    dp[i][j] =  /    dp[i - 1][j - 1]                                     if word1[i - 1] == word2[j - 1]</span></div><div class="line">                  \    min(dp[i - 1][j - 1], min(dp[i - 1][j], dp[i][j - 1])) + 1            else*/</div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(String word1, String word2)</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> n1 = word1.length(), n2 = word2.length();</div><div class="line">	<span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n1 + <span class="number">1</span>][n2 + <span class="number">1</span>];</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n1; ++i) dp[i][<span class="number">0</span>] = i;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n2; ++i) dp[<span class="number">0</span>][i] = i;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n1; ++i) &#123;</div><div class="line">	    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n2; ++j) &#123;</div><div class="line">	        <span class="keyword">if</span> (word1.charAt(i - <span class="number">1</span>) == word2.charAt(j - <span class="number">1</span>)) &#123;</div><div class="line">	            dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">	        &#125; <span class="keyword">else</span> &#123;</div><div class="line">	            dp[i][j] = Math.min(dp[i - <span class="number">1</span>][j - <span class="number">1</span>], Math.min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>])) + <span class="number">1</span>;</div><div class="line">	        &#125;</div><div class="line">	    &#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> dp[n1][n2];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/guess-number-higher-or-lower-ii/" target="_blank" rel="external">guess number with pay, how many money gurantee win</a><br>For each number x in range[i~j]<br>we do: result_when_pick_x = x + max{DP([i~x-1]), DP([x+1, j])}<br>–&gt; // the max means whenever you choose a number, the feedback is always bad and therefore leads you to a worse branch.<br>then we get DP([i~j]) = min{xi, … ,xj}<br>–&gt; // this min makes sure that you are minimizing your cost.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMoneyAmount</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[][] table = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>][n+<span class="number">1</span>];</div><div class="line">        <span class="keyword">return</span> DP(table, <span class="number">1</span>, n);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">DP</span><span class="params">(<span class="keyword">int</span>[][] t, <span class="keyword">int</span> s, <span class="keyword">int</span> e)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(s &gt;= e) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(t[s][e] != <span class="number">0</span>) <span class="keyword">return</span> t[s][e];</div><div class="line">        <span class="keyword">int</span> res = Integer.MAX_VALUE;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x=s; x&lt;=e; x++)&#123;</div><div class="line">            <span class="keyword">int</span> tmp = x + Math.max(DP(t, s, x-<span class="number">1</span>), DP(t, x+<span class="number">1</span>, e));</div><div class="line">            res = Math.min(res, tmp);</div><div class="line">        &#125;</div><div class="line">        t[s][e] = res;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Paint Fence</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> same = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> diff = k;</div><div class="line"><span class="keyword">int</span> nextSame = <span class="number">0</span>;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</div><div class="line">    nextSame = diff;</div><div class="line">    diff = (k - <span class="number">1</span>) * (diff + same);</div><div class="line">    same = nextSame;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> same + diff;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/perfect-squares/" target="_blank" rel="external">Perfect Square</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span>[] arr =<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n; ++i)&#123;</div><div class="line">        arr[i] = i;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= Math.sqrt(i); ++j)&#123;</div><div class="line">            arr[i] = Math.min(arr[i], arr[i-j*j] + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> arr[n];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/max-sum-of-sub-matrix-no-larger-than-k/" target="_blank" rel="external">Max Sum Of Rectangle No Larger Than K</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* first  consider the situation matrix is 1D</span></div><div class="line">    we can save every sum of 0~i(0&lt;=i&lt;len) and binary search previous sum to find</div><div class="line">    possible result for every index, time complexity is O(NlogN).</div><div class="line">    so in 2D matrix, we can sum up all values from row i to row j and create a 1D array</div><div class="line">    to use 1D array solution.</div><div class="line">    If col number is less than row number, we can sum up all values from col i to col j</div><div class="line">    then use 1D array solution.</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSumSubmatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> row = matrix.length;</div><div class="line">    <span class="keyword">int</span> col = matrix[<span class="number">0</span>].length;</div><div class="line">    <span class="keyword">int</span> m = Math.min(row,col);</div><div class="line">    <span class="keyword">int</span> n = Math.max(row,col);</div><div class="line">    <span class="comment">//indicating sum up in every row or every column</span></div><div class="line">    <span class="keyword">boolean</span> colIsBig = col&gt;row;</div><div class="line">    <span class="keyword">int</span> res = Integer.MIN_VALUE;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;m;i++)&#123;</div><div class="line">        <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        <span class="comment">// sum from row j to row i</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i;j&gt;=<span class="number">0</span>;j--)&#123;</div><div class="line">            <span class="keyword">int</span> val = <span class="number">0</span>;</div><div class="line">            TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet&lt;Integer&gt;();</div><div class="line">            set.add(<span class="number">0</span>);</div><div class="line">            <span class="comment">//traverse every column/row and sum up</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>;k&lt;n;k++)&#123;</div><div class="line">                array[k]=array[k]+(colIsBig?matrix[j][k]:matrix[k][j]);</div><div class="line">                val = val + array[k];</div><div class="line">                <span class="comment">//use  TreeMap to binary search previous sum to get possible result</span></div><div class="line">                Integer subres = set.ceiling(val-target);</div><div class="line">                <span class="keyword">if</span>(<span class="keyword">null</span>!=subres)&#123;</div><div class="line">                    res=Math.max(res,val-subres);</div><div class="line">                &#125;</div><div class="line">                set.add(val);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>*<a href="https://leetcode.com/problems/largest-divisible-subset/" target="_blank" rel="external">largest divisible subset</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// using maxIndex to track the last element we add to largerst subset</span></div><div class="line"><span class="comment">// keypont is, every time we find a element i added to larger subset's point j, using parent[i] = j;</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">largestDivisibleSubset</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        Arrays.sort(nums);</div><div class="line">        <span class="keyword">int</span>[] parent = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</div><div class="line">        <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</div><div class="line">        <span class="keyword">int</span> max = <span class="number">0</span>, maxind = -<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt;= <span class="number">0</span>; --j) &#123;</div><div class="line">                <span class="keyword">if</span> (nums[i] % nums[j] == <span class="number">0</span> &amp;&amp; count[j] + <span class="number">1</span> &gt; count[i]) &#123;</div><div class="line">                    count[i] = count[j] + <span class="number">1</span>;</div><div class="line">                    parent[i] = j;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(count[i] &gt; max)&#123;</div><div class="line">                    max = count[i];</div><div class="line">                    maxind = i;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max; i++)&#123;</div><div class="line">            res.add(nums[maxind]);</div><div class="line">            maxind = parent[maxind];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ul>
<li><a href="https://leetcode.com/problems/create-maximum-number/" target="_blank" rel="external">Create Maximum Number</a><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*    It is just like merger sort, but we should pay attention to the case: the two digital are equal.</span></div><div class="line">    we should find the digits behind it to judge which digital we should choose now.*/</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxNumber(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</div><div class="line">        <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[k];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = Math.max(<span class="number">0</span>, k - nums2.length); i &lt;= Math.min(nums1.length, k); ++i) &#123;</div><div class="line">            <span class="keyword">int</span>[] candidate = merge(maxArray(nums1, i), maxArray(nums2, k - i), k);</div><div class="line">            <span class="keyword">if</span> (greater(candidate, <span class="number">0</span>, ans, <span class="number">0</span>)) &#123;</div><div class="line">                ans = candidate;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] merge(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</div><div class="line">        <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[k];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, r = <span class="number">0</span>; r &lt; k; ++r)</div><div class="line">            ans[r] = greater(nums1, i, nums2, j) ? nums1[i++] : nums2[j++];</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">greater</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> i, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span> (i &lt; nums1.length &amp;&amp; j &lt; nums2.length &amp;&amp; nums1[i] == nums2[j]) &#123;</div><div class="line">            i++;</div><div class="line">            j++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> j == nums2.length || (i &lt; nums1.length &amp;&amp; nums1[i] &gt; nums2[j]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxArray(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</div><div class="line">        <span class="keyword">int</span> n = nums.length;</div><div class="line">        <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[k];</div><div class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">while</span> (n - i &gt; k - j &amp;&amp; j &gt; <span class="number">0</span> &amp;&amp; ans[j - <span class="number">1</span>] &lt; nums[i]) &#123;</div><div class="line">                j--;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (j &lt; k) &#123;</div><div class="line">                ans[j++] = nums[i];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Mianjing"><a href="#Mianjing" class="headerlink" title="Mianjing"></a>Mianjing</h3><ul>
<li><p>max ads profit</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">/* </span></div><div class="line"> * Given an array of Ad (profit, start_time, end_time) and a timespan [0, T],</div><div class="line"> * find the max profit of Ads that fit the timespan.</div><div class="line"> */</div><div class="line"> struct Ad&#123;</div><div class="line">    <span class="keyword">int</span> s, t, w;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function">bool <span class="title">comp</span><span class="params">(<span class="keyword">const</span> Ad&amp;a, <span class="keyword">const</span> Ad&amp;b)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> a.t &lt; b.t;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">max_profit_ad</span><span class="params">(vector&lt;Ad&gt; ads, <span class="keyword">int</span> T)</span> </span>&#123;</div><div class="line">    sort(ads.begin(), ads.end(), comp);</div><div class="line">    <span class="keyword">int</span> n = ads.size();</div><div class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">dp</span><span class="params">(n+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (ads[i].t &gt; T) <span class="keyword">return</span> dp[i];</div><div class="line">        <span class="keyword">int</span> id;</div><div class="line">        <span class="keyword">if</span> (ads[i].s &lt;= ads[<span class="number">0</span>].t) id = <span class="number">0</span>;</div><div class="line">        <span class="keyword">else</span>  &#123;</div><div class="line">            <span class="keyword">int</span> l = <span class="number">0</span>, r = i;</div><div class="line">            <span class="keyword">while</span> (l+<span class="number">1</span> &lt; r) &#123;</div><div class="line">                <span class="keyword">int</span> m = l+(r-l)/<span class="number">2</span>;</div><div class="line">                <span class="keyword">if</span> (ads[m].t &gt;= ads[i].s) r = m;</div><div class="line">                <span class="keyword">else</span> l = m;</div><div class="line">            &#125;</div><div class="line">            id = l+<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        dp[i+<span class="number">1</span>] = max(dp[i], dp[id]+ads[i].w);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[n];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>count square with 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">给你矩阵里面有<span class="number">0</span>, <span class="number">1</span>.数一下至少包含一个<span class="number">1</span>的square有多少。</div><div class="line">思路，找到所有以<span class="number">1</span>为右下角的square。遍历矩阵。对于点(i, j)，一共有min(i, j)个square以这个点为右下角并且唯一确定。点值只有两种情况，</div><div class="line">如果是<span class="number">1</span>就好说，res += min(i, j)</div><div class="line">如果是<span class="number">0</span>怎么办，想像从右下角一点一点增大正方形，知道碰到一个<span class="number">1</span>。也就是要记录以(i, j)为右下角的全是<span class="number">0</span>的正方形大小为k。res += min(i, j) - k。</div></pre></td></tr></table></figure>
</li>
<li><p>MaxCoin(wtf)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*  there are m piles of coins, each pile is consisted of coins with different values.</span></div><div class="line">    you are allowed to take n coins home. However, you can only take coins from the top of</div><div class="line">    each pile. What's the maximum value you can obtain.*/</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; piles, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="comment">//rolling array, prev[i] means the max money you can get when you choose i coin now</span></div><div class="line">    <span class="keyword">int</span>[] prev = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</div><div class="line">    <span class="keyword">int</span> p = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; pile : piles) &#123;</div><div class="line">        <span class="comment">//use Arrays.copyOf here, can't just use int[] next = cur, cur will changed when you change next;</span></div><div class="line">        <span class="keyword">int</span>[] cur = Arrays.copyOf(prev, n + <span class="number">1</span>);</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>, k = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x : pile) &#123;</div><div class="line">            sum += x;</div><div class="line">            k++;</div><div class="line">            <span class="comment">//we pick K coin from current pile, use sum to update rolling array</span></div><div class="line">            <span class="comment">//we can update cur[i] for i from k to min(p + k, n)   p is max reached index in rolling array</span></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= p &amp;&amp; j + k &lt;= n; ++j) &#123;</div><div class="line">                <span class="comment">// k items from the current pile, let say i items are selected from the previous piles.</span></div><div class="line">                <span class="comment">// i &lt; p(max previous picked coin numbers)</span></div><div class="line">                cur[j + k] = Math.max(cur[j + k], cur[j] + sum);</div><div class="line">                max = Math.max(cur[j + k], max);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        prev = cur;</div><div class="line">        p = Math.min(n, p + pile.size());</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> max;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Max Holiday flight between city</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//有几座城市，每个月在每个城市都有不同的假期，然后每个城市有飞往不同城市的航班，求最大能获取的假期和</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaxHoliday</span> </span>&#123;</div><div class="line">    <span class="comment">// monthes from 0 to 11, and we are at 0 city in month 0</span></div><div class="line">    <span class="comment">// n cities and 12 monthes</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> m = <span class="number">12</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxHolidays</span><span class="params">(<span class="keyword">int</span>[][] flights, <span class="keyword">int</span>[][] holidays, <span class="keyword">int</span> n, <span class="keyword">int</span> limit, <span class="keyword">int</span>[] path)</span> </span>&#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; adj = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            ArrayList&lt;Integer&gt; row = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)</div><div class="line">                <span class="keyword">if</span> (i == j) row.add(i); <span class="comment">// you can always stay in the same city for another week</span></div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (flights[i][j] &lt;= limit) row.add(j); <span class="comment">// from i to j</span></div><div class="line">            adj.add(row);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">int</span>[] max = <span class="keyword">new</span> <span class="keyword">int</span>[n]; <span class="comment">// max[t][i] is the max holidays we can get for stay in i city in week t;</span></div><div class="line">        <span class="keyword">int</span>[][] parent = <span class="keyword">new</span> <span class="keyword">int</span>[m][n]; <span class="comment">// parent[t][i] is the from city of max[t][i]</span></div><div class="line">        Arrays.fill(max, -<span class="number">1</span>);</div><div class="line">        max[<span class="number">0</span>] = holidays[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">0</span>; t &lt; m - <span class="number">1</span>; ++t) &#123;</div><div class="line">            <span class="keyword">int</span>[] next = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">                <span class="keyword">if</span> (max[i] &lt; <span class="number">0</span>) <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j : adj.get(i)) &#123;</div><div class="line">                    <span class="keyword">if</span> (next[j] &lt; max[i] + holidays[t + <span class="number">1</span>][j]) &#123;</div><div class="line">                        next[j] = max[i] + holidays[t + <span class="number">1</span>][j];</div><div class="line">                        parent[t + <span class="number">1</span>][j] = i;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            max = next;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> city = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) <span class="keyword">if</span> (max[i] &gt; max[city]) city = i;</div><div class="line"></div><div class="line">        path[m - <span class="number">1</span>] = city;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t = m - <span class="number">1</span>; t &gt; <span class="number">0</span>; --t) path[t - <span class="number">1</span>] = parent[t][path[t]];</div><div class="line">        <span class="keyword">return</span> max[city];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>merge stone</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//http://blog.csdn.net/acdreamers/article/details/18039073)”,</span></div><div class="line"></div><div class="line"><span class="comment">//随意移动两堆石子的时候, 贪心解决。用heap每次选择最小的两堆合并。</span></div><div class="line"></div><div class="line"><span class="comment">//每次只能移动相邻两堆时候 dp</span></div><div class="line"><span class="comment">// dp[i][j] = min(dp[i][k] + dp[k + 1][j]) + sum(i, j)</span></div></pre></td></tr></table></figure>
</li>
<li><p>Print Words With Cost(整齐打印)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">算法导论上的题</div><div class="line"><span class="comment">/*</span></div><div class="line">给一个宽度w，和一列单词长度，每个单词的长度均&lt;=w，</div><div class="line">现在将单词排成若干行，每行的单词之间有一个空格，每行的单词加空格长度不能大于w</div><div class="line">定义最后一个单词到行末的距离为每行的Cost，</div><div class="line">总Cost = 每行的Cost的平方和</div><div class="line">求最小的总Cost</div><div class="line">*/</div></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/05/summary-for-dp/" data-id="cjqshy5140007d29zpu7rbs1d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-combination-permutation-backtracking" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/05/summary-for-combination-permutation-backtracking/" class="article-date">
  <time datetime="2016-11-05T12:35:44.000Z" itemprop="datePublished">2016-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/05/summary-for-combination-permutation-backtracking/">summary for combination, permutation, backtracking</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这个总结的挺好：<a href="http://cuijing.org/2013/09/summary-of-permutation-and-combination-in-leetcode/" target="_blank" rel="external">http://cuijing.org/2013/09/summary-of-permutation-and-combination-in-leetcode/</a></p>
<h2 id="basic-knowledge"><a href="#basic-knowledge" class="headerlink" title="basic knowledge:"></a>basic knowledge:</h2><ol>
<li><p>Combination: </p>
<ul>
<li>choose k from n ignore order, represented as C(n, k)</li>
<li>C(n, k) = n! / (k! * (n - k)!)</li>
<li>C(n, k) = C(n - 1, k - 1) + C(n - 1, k)</li>
<li>C(n, 0) + C(n, 1) + C(n, 2) + … + C(n, n) = 2 ^ n</li>
<li>use above equation to do time complexity analysis</li>
<li><p>Subset:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        &#125;</div><div class="line">        buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(), <span class="number">0</span>, nums);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildSubsets</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; temp, <span class="keyword">int</span> start, <span class="keyword">int</span>[] nums)</span></span>&#123;</div><div class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; nums.length; ++i)&#123;</div><div class="line">            temp.add(nums[i]);</div><div class="line">            buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(temp), i + <span class="number">1</span>, nums);</div><div class="line">            temp.remove(temp.size()-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//in this way, it's more clear to do time complexity analysis</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution2</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        &#125;</div><div class="line">        buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(), <span class="number">0</span>, nums);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildSubsets</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; temp, <span class="keyword">int</span> start, <span class="keyword">int</span>[] nums)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span> (start == nums.length) &#123;</div><div class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//choose start</span></div><div class="line">        temp.add(nums[start]);</div><div class="line">        buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(temp), start + <span class="number">1</span>, nums);</div><div class="line">        temp.remove(temp.size()-<span class="number">1</span>);</div><div class="line">        </div><div class="line">        <span class="comment">//dont choose start</span></div><div class="line">        buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(temp), start + <span class="number">1</span>, nums);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Subset2(handle duplicate):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsetsWithDup(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//sort first, let duplicate element be adjacent</span></div><div class="line">        Arrays.sort(nums);</div><div class="line">        buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(), <span class="number">0</span>, nums);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildSubsets</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; temp, <span class="keyword">int</span> start, <span class="keyword">int</span>[] nums)</span></span>&#123;</div><div class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; nums.length; ++i)&#123;</div><div class="line">        	<span class="comment">//skip duplicate element</span></div><div class="line">            <span class="keyword">if</span>(i &gt; start &amp;&amp; nums[i] == nums[i-<span class="number">1</span>]) &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            temp.add(nums[i]);</div><div class="line">            buildSubsets(result, <span class="keyword">new</span> LinkedList&lt;&gt;(temp), i + <span class="number">1</span>, nums);</div><div class="line">            temp.remove(temp.size()-<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Combination:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        generateRes(n, res, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="number">1</span>, k);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateRes</span><span class="params">(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; temp, <span class="keyword">int</span> start, <span class="keyword">int</span> left)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (left == <span class="number">0</span>) &#123;</div><div class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= n - left + <span class="number">1</span>; ++i) &#123;</div><div class="line">            temp.add(i);</div><div class="line">            generateRes(n, res, temp, i + <span class="number">1</span>, left - <span class="number">1</span>);</div><div class="line">            temp.remove(temp.size() - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Permutation:</p>
<ul>
<li>choose k from n with order, represented as P(n, k)</li>
<li>P(n, k) = n! / (n - k)!</li>
<li>P(n, k) = C(n, k) * k!</li>
<li>use above equation to do time complexity analysis</li>
<li><p>next permutation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*  </span></div><div class="line">   Reverse find first number which breaks descending order.</div><div class="line">   Exchange this number with the least number that's greater than this number.</div><div class="line">   Reverse sort the numbers after the exchanged number.</div><div class="line">   */</div><div class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">           <span class="keyword">int</span> i = nums.length - <span class="number">2</span>;</div><div class="line">           <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; nums[i + <span class="number">1</span>] &lt;= nums[i]) &#123;</div><div class="line">               i--;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">if</span> (i &gt;= <span class="number">0</span>) &#123;</div><div class="line">               <span class="keyword">int</span> j = nums.length - <span class="number">1</span>;</div><div class="line">               <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; nums[j] &lt;= nums[i]) &#123;</div><div class="line">                   j--;</div><div class="line">               &#125;</div><div class="line">               swap(nums, i, j);</div><div class="line">           &#125;</div><div class="line">           reverse(nums, i + <span class="number">1</span>);</div><div class="line">       &#125;</div><div class="line">   </div><div class="line">       <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start)</span> </span>&#123;</div><div class="line">           <span class="keyword">int</span> i = start, j = nums.length - <span class="number">1</span>;</div><div class="line">           <span class="keyword">while</span> (i &lt; j) &#123;</div><div class="line">               swap(nums, i, j);</div><div class="line">               i++;</div><div class="line">               j--;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">   </div><div class="line">       <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">           <span class="keyword">int</span> temp = nums[i];</div><div class="line">           nums[i] = nums[j];</div><div class="line">           nums[j] = temp;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Permutation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        generateRes(nums, res, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateRes</span><span class="params">(<span class="keyword">int</span>[] nums, List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; temp, <span class="keyword">boolean</span>[] used)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (temp.size() == nums.length) &#123;</div><div class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (!used[i]) &#123;</div><div class="line">                temp.add(nums[i]);</div><div class="line">                used[i] = <span class="keyword">true</span>;</div><div class="line">                generateRes(nums, res, temp, used);</div><div class="line">                temp.remove(temp.size() - <span class="number">1</span>);</div><div class="line">                used[i] = <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Permutation2(handle duplicate):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permuteUnique(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        Arrays.sort(nums);</div><div class="line">        generateRes(nums, res, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateRes</span><span class="params">(<span class="keyword">int</span>[] nums, List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; temp, <span class="keyword">boolean</span>[] used)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (temp.size() == nums.length) &#123;</div><div class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i - <span class="number">1</span>] == nums[i] &amp;&amp; !used[i - <span class="number">1</span>]) &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (!used[i]) &#123;</div><div class="line">                temp.add(nums[i]);</div><div class="line">                used[i] = <span class="keyword">true</span>;</div><div class="line">                generateRes(nums, res, temp, used);</div><div class="line">                temp.remove(temp.size() - <span class="number">1</span>);</div><div class="line">                used[i] = <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Backtracking</p>
<ul>
<li>Backtracking is a general algorithm for finding all (or some) solutions to some computational problems</li>
<li>the time complexity will be the number of state in <strong>state space</strong>. It’s easy to use Combination, Permutation to get the number</li>
<li>don’t forget to pruning</li>
<li><p>basic structure</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">	<span class="comment">//main function</span></div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateAbbreviations</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        buildResult(result, word, <span class="keyword">new</span> StringBuilder(), <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//helper function do recursion job</span></div><div class="line">    <span class="comment">//decide what you need to pass as argument(important)</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildResult</span><span class="params">(List&lt;String&gt; result, String word, StringBuilder temp, <span class="keyword">int</span> pos, <span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">        <span class="comment">//recursion end condition</span></div><div class="line">        <span class="keyword">if</span> (pos == word.length()) &#123;</div><div class="line">            ...</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//do recursion part here</span></div><div class="line">        ... </div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Expression Add Operators</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//StringBuilder.setLength(len) is O(1) operation</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">addOperators</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        generateRes(res, num, <span class="number">0</span>, target, <span class="keyword">new</span> StringBuilder(), <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">generateRes</span><span class="params">(List&lt;String&gt; res, String num, <span class="keyword">int</span> start, <span class="keyword">int</span> target, StringBuilder sb, <span class="keyword">long</span> prev, <span class="keyword">long</span> last)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (start == num.length()) &#123;</div><div class="line">            <span class="keyword">if</span> (target == prev) &#123;</div><div class="line">                res.add(sb.toString());</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">long</span> cur = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> len = sb.length();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; num.length(); ++i) &#123;</div><div class="line">            <span class="keyword">char</span> c = num.charAt(i);</div><div class="line">            <span class="keyword">if</span> (num.charAt(start) == <span class="string">'0'</span> &amp;&amp; i &gt; start) &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            cur = cur * <span class="number">10</span> + (c - <span class="string">'0'</span>);</div><div class="line">            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</div><div class="line">                generateRes(res, num, i + <span class="number">1</span>, target, sb.append(cur), prev + cur, cur);</div><div class="line">                sb.setLength(len);</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            generateRes(res, num, i + <span class="number">1</span>, target, sb.append(<span class="string">"+"</span>).append(cur), prev + cur, cur);</div><div class="line">            sb.setLength(len);</div><div class="line">            generateRes(res, num, i + <span class="number">1</span>, target, sb.append(<span class="string">"-"</span>).append(cur), prev - cur, -cur);</div><div class="line">            sb.setLength(len);</div><div class="line">            generateRes(res, num, i + <span class="number">1</span>, target, sb.append(<span class="string">"*"</span>).append(cur), prev - last + last * cur, last * cur);</div><div class="line">            sb.setLength(len);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Generalized Abbreviation</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateAbbreviations</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        buildResult(result, word, <span class="keyword">new</span> StringBuilder(), <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildResult</span><span class="params">(List&lt;String&gt; result, String word, StringBuilder temp, <span class="keyword">int</span> pos, <span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> len = temp.length();</div><div class="line">        <span class="keyword">if</span> (pos == word.length()) &#123;</div><div class="line">            temp.append(num &gt; <span class="number">0</span> ? num : <span class="string">""</span>);            </div><div class="line">            result.add(temp.toString());</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">// abbrev</span></div><div class="line">            buildResult(result, word, temp, pos + <span class="number">1</span>, num + <span class="number">1</span>);</div><div class="line">            <span class="comment">// not abbrev</span></div><div class="line">            temp.append(num &gt; <span class="number">0</span> ? num : <span class="string">""</span>);</div><div class="line">            buildResult(result, word, temp.append(word.charAt(pos)), pos + <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">        &#125;</div><div class="line">        temp.setLength(len);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>word break 2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//time complexity analysis</span></div><div class="line"><span class="comment">//2^n for this one.</span></div><div class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution1</span> </span>&#123;</div><div class="line">       <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">wordBreak</span><span class="params">(String s, Set&lt;String&gt; wordDict)</span> </span>&#123;</div><div class="line">           List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">           <span class="keyword">boolean</span>[] possible = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length() + <span class="number">1</span>];</div><div class="line">           Arrays.fill(possible, <span class="keyword">true</span>);</div><div class="line">           buildRes(s, wordDict, <span class="keyword">new</span> StringBuilder(), <span class="number">0</span>, res, possible);</div><div class="line">           <span class="keyword">return</span> res;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildRes</span><span class="params">(String s, Set&lt;String&gt; wordDict, StringBuilder sb, <span class="keyword">int</span> Pos, List&lt;String&gt; res, <span class="keyword">boolean</span>[] possible)</span> </span>&#123;</div><div class="line">           <span class="keyword">if</span> (Pos &gt;= s.length()) &#123;</div><div class="line">               res.add(sb.substring(<span class="number">0</span>, sb.length() - <span class="number">1</span>));</div><div class="line">               <span class="keyword">return</span>;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = Pos + <span class="number">1</span>; i &lt;= s.length(); ++i) &#123;</div><div class="line">               <span class="keyword">int</span> sbLen = sb.length();</div><div class="line">               String thisWord = s.substring(Pos, i);</div><div class="line">               <span class="keyword">if</span> (wordDict.contains(thisWord) &amp;&amp; possible[i]) &#123;</div><div class="line">                   <span class="keyword">int</span> before = res.size();</div><div class="line">                   sb.append(thisWord).append(<span class="string">" "</span>);</div><div class="line">                   buildRes(s, wordDict, sb, i, res, possible);</div><div class="line">                   <span class="comment">// key point check res.size()</span></div><div class="line">                   <span class="keyword">if</span> (before == res.size()) &#123;</div><div class="line">                       possible[i] = <span class="keyword">false</span>;</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">               sb.setLength(sbLen);</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">   &#125;</div><div class="line">   <span class="comment">//DP: time: O(n^2*k), space: O(nk), 假设k表示平均每个长度对应解的个数</span></div><div class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution2</span> </span>&#123;</div><div class="line">       <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">wordBreak</span><span class="params">(String s, Set&lt;String&gt; wordDict)</span> </span>&#123;</div><div class="line">           <span class="comment">// 判断是否能够分解</span></div><div class="line">           <span class="keyword">if</span> (!helper(s, wordDict)) &#123;</div><div class="line">               <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">           &#125;</div><div class="line"></div><div class="line">           <span class="comment">// 记录字符串s.substring(0, i)对应的解</span></div><div class="line">           HashMap&lt;Integer, List&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">           map.put(<span class="number">0</span>, <span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">           map.get(<span class="number">0</span>).add(<span class="string">""</span>);</div><div class="line"></div><div class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</div><div class="line">                   <span class="keyword">if</span> (map.containsKey(j) &amp;&amp; wordDict.contains(s.substring(j, i))) &#123;</div><div class="line">                       <span class="keyword">if</span> (!map.containsKey(i))</div><div class="line">                           map.put(i, <span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">                       <span class="keyword">for</span> (String str : map.get(j)) &#123;</div><div class="line">                           map.get(i).add(str + (str.equals(<span class="string">""</span>) ? <span class="string">""</span> : <span class="string">" "</span>) + s.substring(j, i));</div><div class="line">                       &#125;</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line"></div><div class="line">           <span class="keyword">return</span> map.get(s.length());</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(String s, Set&lt;String&gt; wordDict)</span> </span>&#123;</div><div class="line">           <span class="keyword">boolean</span> dp[] = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length() + <span class="number">1</span>];</div><div class="line">           dp[<span class="number">0</span>] = <span class="keyword">true</span>;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</div><div class="line">                   <span class="keyword">if</span> (dp[j] &amp;&amp; wordDict.contains(s.substring(j, i))) &#123;</div><div class="line">                       dp[i] = <span class="keyword">true</span>;</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">return</span> dp[s.length()];</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>KDimensionNeighbors</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">       <span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; solve(<span class="keyword">int</span>[] p) &#123;</div><div class="line">           <span class="keyword">int</span> k = p.length;</div><div class="line">           <span class="keyword">int</span>[] directions = &#123;-<span class="number">1</span>, <span class="number">1</span>&#125;;</div><div class="line">           LinkedList&lt;<span class="keyword">int</span>[]&gt; ans = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">           ans.offer(Arrays.copyOf(p, k));</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i) &#123;</div><div class="line">               <span class="keyword">int</span> n = ans.size();</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</div><div class="line">                   <span class="keyword">for</span> (<span class="keyword">int</span> d: directions) &#123;</div><div class="line">                       <span class="keyword">int</span>[] copy = Arrays.copyOf(ans.get(j), k);</div><div class="line">                       copy[i] += d;</div><div class="line">                       ans.offer(copy);</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           ans.pollFirst();</div><div class="line">           <span class="keyword">return</span> ans;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions:"></a>Questions:</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/05/summary-for-combination-permutation-backtracking/" data-id="cjqshy5130006d29z2q3z8dvi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-Binary-Search" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/03/summary-for-Binary-Search/" class="article-date">
  <time datetime="2016-11-03T13:39:28.000Z" itemprop="datePublished">2016-11-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/03/summary-for-Binary-Search/">summary for Binary Search</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h1><p>used to reduce O(n) time complexity to O(logn) for ordered, part ordered, [0000111111] list.</p>
<h3 id="Situation"><a href="#Situation" class="headerlink" title="Situation"></a>Situation</h3><ol>
<li><p>有序数组中有且仅有一个target，那么返回index<br>example: no duplicate target list : [1, 2, 5, 8, 9, 10, 15] 中找2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//edge case, when left + 1 = right, when left = right</span></div><div class="line"><span class="keyword">while</span>(left &lt;= right) &#123;</div><div class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">        <span class="keyword">return</span> mid;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">        right = mid - <span class="number">1</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        left  = mid + <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> -<span class="number">1</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>数组中没有target，我们应该返回比target大的元素的index还是比之小的index?<br>example: <a href="https://leetcode.com/problems/search-insert-position/" target="_blank" rel="external">search insert position</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// insert 5 to [2, 4, 7, 8, 9], return 2</span></div><div class="line"><span class="keyword">while</span>(left + <span class="number">1</span> &lt; right) &#123;</div><div class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">        <span class="keyword">return</span> mid;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">        right = mid;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        left = mid;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> (target &lt;= nums[left]) &#123;</div><div class="line">    <span class="keyword">return</span> left;</div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[right]) &#123;</div><div class="line">    <span class="keyword">return</span> right + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> right;</div></pre></td></tr></table></figure>
</li>
<li><p>数组中含有多个target，我们应该返回哪一个的index?<br>example: <a href="https://leetcode.com/problems/first-bad-version/" target="_blank" rel="external">first bad version</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//find first 5 in [1, 2, 3, 5, 5, 5, 6, 7, 8]</span></div><div class="line"><span class="comment">//find last  5 in [1, 2, 3, 5, 5, 5, 6, 7, 8]</span></div><div class="line"><span class="comment">//find first 1 in [0, 0, 0, 0, 1, 1, 1, 1, 1]</span></div><div class="line"><span class="comment">//here we are trying to find leftmost</span></div><div class="line"><span class="keyword">while</span>(left + <span class="number">1</span> &lt; right) &#123;</div><div class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">if</span> (nums[mid] == target) &#123;</div><div class="line">        right = mid;<span class="comment">//should change based on condition</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">        right = mid;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        left  = mid;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> nums[left] == target ? left : right;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Go-through-edge-case"><a href="#Go-through-edge-case" class="headerlink" title="Go through edge case"></a>Go through edge case</h3><ol>
<li>left == right<ul>
<li>target &lt; left</li>
<li>target == left</li>
<li>target &gt; left</li>
</ul>
</li>
<li>left + 1 == right<ul>
<li>target &lt; left</li>
<li>left &lt; target &lt; right</li>
<li>target &gt; right</li>
</ul>
</li>
</ol>
<h3 id="Interview-Questions"><a href="#Interview-Questions" class="headerlink" title="Interview Questions"></a>Interview Questions</h3><ul>
<li><p><a href="https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/" target="_blank" rel="external">Kth Smallest Element in a Sorted Matrix</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInSortedMatrix</span> </span>&#123;</div><div class="line">    <span class="comment">//binary search</span></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> n = matrix.length, m = matrix[<span class="number">0</span>].length;</div><div class="line">            <span class="keyword">int</span> minVal = matrix[<span class="number">0</span>][<span class="number">0</span>];</div><div class="line">            <span class="keyword">int</span> maxVal = matrix[n - <span class="number">1</span>][m - <span class="number">1</span>];</div><div class="line">            <span class="keyword">while</span> (minVal &lt;= maxVal) &#123;</div><div class="line">                <span class="keyword">int</span> mid = minVal + (maxVal - minVal)/<span class="number">2</span>;</div><div class="line">                <span class="keyword">if</span> (getRank(mid, matrix, n, m) &lt; k) &#123;</div><div class="line">                    minVal = mid + <span class="number">1</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    maxVal = mid - <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> minVal;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getRank</span><span class="params">(<span class="keyword">int</span> mid, <span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">            <span class="keyword">int</span> i = n -<span class="number">1</span>, j = <span class="number">0</span>;</div><div class="line">            <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; m) &#123;</div><div class="line">                <span class="keyword">if</span> (matrix[i][j] &gt; mid) &#123;</div><div class="line">                    i--;</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (matrix[i][j] &lt;= mid) &#123;</div><div class="line">                    <span class="comment">//key point</span></div><div class="line">                    res += (i + <span class="number">1</span>);</div><div class="line">                    j++;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/" target="_blank" rel="external">Median of Two Sorted Arrays</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MedianOfTwoSortedArrays</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> m = nums1.length, n = nums2.length;</div><div class="line">            <span class="keyword">if</span>((m + n) % <span class="number">2</span> == <span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">return</span> findKth(nums1, <span class="number">0</span>, m - <span class="number">1</span>, nums2, <span class="number">0</span>, n -<span class="number">1</span>, (m + n) / <span class="number">2</span> + <span class="number">1</span>);</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span> (findKth(nums1, <span class="number">0</span>, m - <span class="number">1</span>, nums2, <span class="number">0</span>, n - <span class="number">1</span>, (m + n) / <span class="number">2</span>) + findKth(nums1, <span class="number">0</span>, m - <span class="number">1</span>, nums2, <span class="number">0</span>, n - <span class="number">1</span>, (m + n) / <span class="number">2</span> + <span class="number">1</span>)) / <span class="number">2.0</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findKth</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> al, <span class="keyword">int</span> ar, <span class="keyword">int</span>[] b, <span class="keyword">int</span> bl, <span class="keyword">int</span> br, <span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">            <span class="keyword">if</span>(al &gt; ar) <span class="keyword">return</span> b[bl + k - <span class="number">1</span>];</div><div class="line">            <span class="keyword">if</span>(bl &gt; br) <span class="keyword">return</span> a[al + k - <span class="number">1</span>];</div><div class="line"></div><div class="line">            <span class="keyword">int</span> amid = al + (ar - al) / <span class="number">2</span>;</div><div class="line">            <span class="keyword">int</span> bmid = bl + (br - bl) / <span class="number">2</span>;</div><div class="line"></div><div class="line">            <span class="keyword">if</span>(a[amid] &gt;= b[bmid]) &#123;</div><div class="line">                <span class="keyword">if</span>(k &lt;= (amid - al) + (bmid - bl) + <span class="number">1</span>) &#123;</div><div class="line">                    <span class="keyword">return</span> findKth(a, al, amid - <span class="number">1</span>, b, bl, br, k);</div><div class="line">                &#125;<span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">return</span> findKth(a, al, ar, b, bmid + <span class="number">1</span>, br, k - (bmid - bl + <span class="number">1</span>));</div><div class="line">                &#125;</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span>(k &lt;= (amid - al) + (bmid - bl) + <span class="number">1</span>) &#123;</div><div class="line">                    <span class="keyword">return</span> findKth(a, al, ar, b, bl, bmid - <span class="number">1</span>, k);</div><div class="line">                &#125;<span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">return</span> findKth(a, amid + <span class="number">1</span>, ar, b, bl, br, k -(amid - al + <span class="number">1</span>));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/russian-doll-envelopes/" target="_blank" rel="external">Russian Doll Envelopes</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Sort the array. Ascend on width and descend on height if width are same.</span></div><div class="line"><span class="comment">//Find the longest increasing subsequence based on height.</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxEnvelopes</span><span class="params">(<span class="keyword">int</span>[][] envelopes)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(envelopes == <span class="keyword">null</span> || envelopes.length == <span class="number">0</span> || envelopes[<span class="number">0</span>] == <span class="keyword">null</span> || envelopes[<span class="number">0</span>].length != <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        Arrays.sort(envelopes, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] thisArray, <span class="keyword">int</span>[] that)</span></span>&#123;</div><div class="line">                <span class="keyword">return</span> thisArray[<span class="number">0</span>] == that[<span class="number">0</span>] ? that[<span class="number">1</span>] - thisArray[<span class="number">1</span>] : thisArray[<span class="number">0</span>] - that[<span class="number">0</span>];</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[envelopes.length];</div><div class="line">        <span class="keyword">int</span> size = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] envelope: envelopes) &#123;</div><div class="line">            <span class="comment">// binary search</span></div><div class="line">            <span class="keyword">int</span> left = <span class="number">0</span>, right = size, middle = <span class="number">0</span>;</div><div class="line">            <span class="keyword">int</span> index = findPlace(dp, <span class="number">0</span>, size, envelope[<span class="number">1</span>]);</div><div class="line">            <span class="comment">// left is the right position to 'replace' in dp array</span></div><div class="line">            dp[index] = envelope[<span class="number">1</span>];</div><div class="line">            <span class="keyword">if</span>(index == size) size++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> size;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findPlace</span><span class="params">(<span class="keyword">int</span>[] dp, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span>(left != right) &#123;</div><div class="line">            <span class="keyword">int</span> middle = left + (right - left) / <span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span>(key &gt; dp[middle]) &#123;</div><div class="line">                left = middle + <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &lt; dp[middle]) &#123;</div><div class="line">                right = middle;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                left = middle;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> left;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/longest-increasing-subsequence/" target="_blank" rel="external">Longest Increasing Subsequence</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> | nums.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] increasingSeq = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</div><div class="line">        increasingSeq[<span class="number">0</span>] = nums[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> len = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> pos = findPositionToReplace(increasingSeq, <span class="number">0</span>, len - <span class="number">1</span>, nums[i]);</div><div class="line">            increasingSeq[pos] = nums[i];</div><div class="line">            <span class="keyword">if</span> (pos == len) &#123;</div><div class="line">                len++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> len;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findPositionToReplace</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span> (l + <span class="number">1</span> &lt; r) &#123;</div><div class="line">            <span class="keyword">int</span> mid = l + (r - l)/<span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span> (target &gt; a[mid]) &#123;</div><div class="line">                l = mid;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; a[mid]) &#123;</div><div class="line">                r = mid;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span> mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (target &lt;= a[l]) &#123;</div><div class="line">            <span class="keyword">return</span> l;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; a[r]) &#123;</div><div class="line">            <span class="keyword">return</span> r + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> r;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>pupolar number</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// unsorted: hashmap</span></div><div class="line"><span class="comment">// sorted: binary search</span></div><div class="line"><span class="comment">// key point: find candidate target at n/4, n/2, 3*n/4</span></div></pre></td></tr></table></figure>
</li>
<li><p>weighted random</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">大概就是一个数组, 1,4,2,6.... 每次调用一个函数，按照数组里面的数字的大小，返回相应的Index。</div><div class="line">比如， 上面的例子就是, 1/13 的概率返回0, 4/13的概率返回1.</div><div class="line">**/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightedRandom</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] sum; <span class="comment">// sum[i] is the sum of weight [0, i]</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeightedRandom</span><span class="params">(<span class="keyword">int</span> weight[])</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n = weight.length;</div><div class="line">        sum = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        sum[<span class="number">0</span>] = weight[<span class="number">0</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</div><div class="line">            sum[i] = sum[i - <span class="number">1</span>] + weight[i];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> w)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = sum.length - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (l + <span class="number">1</span> &lt; r) &#123;</div><div class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span> (sum[mid] &lt; w) &#123;</div><div class="line">                l = mid;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum[mid] == w) &#123;</div><div class="line">                <span class="keyword">return</span> mid;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                r = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (w == sum[l]) &#123;</div><div class="line">            <span class="keyword">return</span> l;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> r;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nextIndex</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">// generate random weight in [1, sum[n-1]]</span></div><div class="line">        Random random = <span class="keyword">new</span> Random();</div><div class="line">        <span class="keyword">return</span> search(random.nextInt(sum[sum.length - <span class="number">1</span>]) + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/03/summary-for-Binary-Search/" data-id="cjqshy50v0002d29z5cgyyee8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-Heap-PriorityQueue" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-Heap-PriorityQueue/" class="article-date">
  <time datetime="2016-11-03T03:58:05.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-Heap-PriorityQueue/">summary for Heap PriorityQueue</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Basic-Knowledge"><a href="#Basic-Knowledge" class="headerlink" title="Basic Knowledge"></a>Basic Knowledge</h2><ol>
<li><p>Priority Queue 的底层实现是bcomplete binary min-heap. </p>
<ul>
<li>log(n) for offer(e), poll()</li>
<li>not sort interval, just know head is largest/smallest one.</li>
<li>remove(e) need O(n) time</li>
<li>do not support for update operation(Dijkstra need use laze deletion)</li>
</ul>
</li>
<li><p>Priority Queue useage</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//let the class implements Comparable&lt;T&gt; interface, and implement compareTo(T that) method</span></div><div class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Pair</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    <span class="keyword">int</span> count;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> count)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.val = val;</div><div class="line">        <span class="keyword">this</span>.count = count;</div><div class="line">    &#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Pair that)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.count - that.count;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Queue&lt;Pair&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line"></div><div class="line"><span class="comment">//pass a construct method as argument here</span></div><div class="line">Queue&lt;LinkedList&lt;Interval&gt;&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;LinkedList&lt;Interval&gt;&gt;() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(LinkedList&lt;Interval&gt; o1, LinkedList&lt;Interval&gt; o2)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> o1.getLast().end - o2.getLast().end);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//pass a construct method as argument use java 8 lambda, treat functionality as method argument</span></div><div class="line">Queue&lt;LinkedList&lt;Interval&gt;&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1, o2) -&gt; o1.getLast().end - o2.getLast().end);</div></pre></td></tr></table></figure>
</li>
<li><p>complete binary min-heap: 任意一个非叶子节点的权值，都不大于其左右子节点的权值, 也就意味着可以通过数组来作为PriorityQueue的底层实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//left = parent*2+1</span></div><div class="line"><span class="comment">//right = parent*2+2</span></div><div class="line"><span class="comment">//parent = (node-1)/2</span></div><div class="line"><span class="comment">/**</span></div><div class="line"> * from harvard</div><div class="line"> * Heap - a generic collection class that implements</div><div class="line"> * a max-at-top heap using an array</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Heap</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt;&gt; </span>&#123;</div><div class="line">    <span class="keyword">private</span> T[] contents;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> numItems;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Heap</span><span class="params">(<span class="keyword">int</span> maxSize)</span> </span>&#123;</div><div class="line">        contents = (T[])<span class="keyword">new</span> Comparable[maxSize];</div><div class="line">        numItems = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Heap</span><span class="params">(T[] arr)</span> </span>&#123;</div><div class="line">        <span class="comment">// Note that we don't copy the array, so that heapsort can</span></div><div class="line">        <span class="comment">// sort the array in place.</span></div><div class="line">        contents = arr;</div><div class="line">        numItems = arr.length;</div><div class="line">        makeHeap();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * makeHeap - turn the elements in the contents array into a</div><div class="line">     * representation of a max-at-top heap.</div><div class="line">     * heapify array, O(n) time.</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">makeHeap</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> last = contents.length - <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> parentOfLast = (last - <span class="number">1</span>)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = parentOfLast; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            siftDown(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * insert - add the specified item to the heap and sift it up</div><div class="line">     * into its proper position.</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(T item)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (numItems == contents.length) &#123;</div><div class="line">            <span class="comment">// grow the array</span></div><div class="line">            T[] newContents = (T[])<span class="keyword">new</span> Comparable[contents.length * <span class="number">2</span>];</div><div class="line">            System.arraycopy(contents, <span class="number">0</span>, newContents, <span class="number">0</span>, numItems);</div><div class="line">            contents = newContents;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        contents[numItems] = item;</div><div class="line">        siftUp(numItems);</div><div class="line">        numItems++;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * remove and return the item at the top of the heap, and adjust</div><div class="line">     * the remaining items so that we still have a heap.</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">remove</span><span class="params">()</span> </span>&#123;</div><div class="line">        T toRemove = contents[<span class="number">0</span>];</div><div class="line"></div><div class="line">        <span class="comment">// Move the element currently the end of the heap to the top</span></div><div class="line">        <span class="comment">// and sift it into place.</span></div><div class="line">        contents[<span class="number">0</span>] = contents[numItems - <span class="number">1</span>];</div><div class="line">        numItems--;</div><div class="line">        siftDown(<span class="number">0</span>);</div><div class="line"></div><div class="line">        <span class="keyword">return</span> toRemove;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * isEmpty - does the heap currently have no items?</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> (numItems == <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * siftDown - sift the element in contents[i] down into its</div><div class="line">     * correct position in the heap.</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">siftDown</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">        <span class="comment">// Store a reference to the element being sifted.</span></div><div class="line">        T toSift = contents[i];</div><div class="line"></div><div class="line">        <span class="comment">// Find where the sifted element belongs.</span></div><div class="line">        <span class="keyword">int</span> parent = i;</div><div class="line">        <span class="keyword">int</span> child = <span class="number">2</span> * parent + <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (child &lt; numItems) &#123;</div><div class="line">            <span class="comment">// If the right child is bigger, compare with it.</span></div><div class="line">            <span class="keyword">if</span> (child &lt; numItems - <span class="number">1</span>  &amp;&amp;</div><div class="line">                    contents[child].compareTo(contents[child + <span class="number">1</span>]) &lt; <span class="number">0</span>)</div><div class="line">                child = child + <span class="number">1</span>;</div><div class="line"></div><div class="line">            <span class="comment">// Check if we're done.</span></div><div class="line">            <span class="keyword">if</span> (toSift.compareTo(contents[child]) &gt;= <span class="number">0</span>)</div><div class="line">                <span class="keyword">break</span>;</div><div class="line"></div><div class="line">            <span class="comment">// If not, move child up and move down one level in the tree.</span></div><div class="line">            contents[parent] = contents[child];</div><div class="line">            parent = child;</div><div class="line">            child = <span class="number">2</span> * parent + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        contents[parent] = toSift;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * siftUp - sift the element in contents[i] up into its</div><div class="line">     * correct position in the heap.</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">siftUp</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">        <span class="comment">// Store a reference to the element being sifted.</span></div><div class="line">        T toSift = contents[i];</div><div class="line"></div><div class="line">        <span class="comment">// Find where the sifted element belongs.</span></div><div class="line">        <span class="keyword">int</span> child = i;</div><div class="line">        <span class="keyword">while</span> (child &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">int</span> parent = (child - <span class="number">1</span>)/<span class="number">2</span>;</div><div class="line"></div><div class="line">            <span class="comment">// Check if we're done.</span></div><div class="line">            <span class="keyword">if</span> (toSift.compareTo(contents[parent]) &lt;= <span class="number">0</span>)</div><div class="line">                <span class="keyword">break</span>;</div><div class="line"></div><div class="line">            <span class="comment">// If not, move parent down and move up one level in the tree.</span></div><div class="line">            contents[child] = contents[parent];</div><div class="line">            child = parent;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        contents[child] = toSift;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>difference with TreeSet, TreeMap</p>
<ul>
<li>heap not sort all element, but TreeSet does</li>
<li>heap allow duplicate, but TreeSet does(TreeSet use compareTo() check equals, be careful)</li>
</ul>
</li>
</ol>
<h2 id="question-use-as-key-component-in-other-question"><a href="#question-use-as-key-component-in-other-question" class="headerlink" title="question: use as key component in other question"></a>question: use as key component in other question</h2><ul>
<li><p><strong>Find K Pairs with Smallest Sums</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//这题你可以先把nums1[i] + nums[0] 对i&lt;=k的值全push之后处理</span></div><div class="line"><span class="comment">//但是我比较喜欢这种比较容易理解的方式。不喜欢实现的equals和hashCode也可以存x * nums.length + y进去。</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; kSmallestPairs(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</div><div class="line">        Queue&lt;Pair&gt; q = <span class="keyword">new</span> PriorityQueue&lt;Pair&gt;();</div><div class="line">        List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (nums1.length == <span class="number">0</span> || nums2.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        &#125;</div><div class="line">        q.offer(<span class="keyword">new</span> Pair(<span class="number">0</span>, <span class="number">0</span>, nums1[<span class="number">0</span>] + nums2[<span class="number">0</span>]));</div><div class="line">        Set&lt;Pair&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">        set.add(<span class="keyword">new</span> Pair(<span class="number">0</span>, <span class="number">0</span>, nums1[<span class="number">0</span>] + nums2[<span class="number">0</span>]));</div><div class="line">        <span class="keyword">while</span> (k &gt; <span class="number">0</span> &amp;&amp; !q.isEmpty()) &#123;</div><div class="line">            Pair pair = q.poll();</div><div class="line">            <span class="keyword">int</span> firstPos = pair.firstIndex;</div><div class="line">            <span class="keyword">int</span> secondPos = pair.secondIndex;</div><div class="line">            result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nums1[firstPos], nums2[secondPos]&#125;);</div><div class="line">            <span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</div><div class="line">                <span class="keyword">int</span> nf = firstPos + dir[<span class="number">0</span>];</div><div class="line">                <span class="keyword">int</span> ns = secondPos + dir[<span class="number">1</span>];</div><div class="line">                <span class="keyword">if</span> (nf &lt; nums1.length &amp;&amp; ns &lt; nums2.length) &#123;</div><div class="line">                    Pair newPair = <span class="keyword">new</span> Pair(nf, ns, nums1[nf] + nums2[ns]);</div><div class="line">                    <span class="keyword">if</span> (!set.contains(newPair)) &#123;</div><div class="line">                        q.offer(newPair);</div><div class="line">                        set.add(newPair);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            k--;</div><div class="line">        &#125; </div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Pair</span>&gt;</span>&#123;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> firstIndex;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> secondIndex;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> val;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Pair</span> <span class="params">(<span class="keyword">int</span> firstIndex, <span class="keyword">int</span> secondIndex, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.firstIndex = firstIndex;</div><div class="line">            <span class="keyword">this</span>.secondIndex = secondIndex;</div><div class="line">            <span class="keyword">this</span>.val = val;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Pair that)</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.val - that.val;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span>(<span class="keyword">this</span> == obj) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            <span class="keyword">if</span>((obj == <span class="keyword">null</span>) || (obj.getClass() != <span class="keyword">this</span>.getClass())) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            Pair that = (Pair)obj;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.firstIndex == that.firstIndex &amp;&amp; that.secondIndex == that.secondIndex;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> hashcode = <span class="number">17</span>;</div><div class="line">            hashcode = hashcode * <span class="number">31</span> + firstIndex;</div><div class="line">            hashcode = hashcode * <span class="number">31</span> + secondIndex;</div><div class="line">            hashcode = hashcode * <span class="number">31</span> + val;</div><div class="line">            <span class="keyword">return</span> hashcode;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Meeting Rooms II</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//这类型的题目，用一个例子最好解释，给你一堆飞机起飞降落的时间，求天空中最多有多少飞机。很简单嘛</span></div><div class="line"><span class="comment">//起飞+1，降落-1. 记录max就完事了。</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MeetTime</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> time;</div><div class="line">        <span class="keyword">int</span> start;</div><div class="line">        MeetTime(<span class="keyword">int</span> t, <span class="keyword">int</span> s) &#123; time = t; start = s;&#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</div><div class="line">        List&lt;MeetTime&gt; mts = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (Interval interval : intervals) &#123;</div><div class="line">            mts.add(<span class="keyword">new</span> MeetTime(interval.start, <span class="number">1</span>));</div><div class="line">            mts.add(<span class="keyword">new</span> MeetTime(interval.end, -<span class="number">1</span>));</div><div class="line">        &#125;</div><div class="line">        Collections.sort(mts, <span class="keyword">new</span> Comparator&lt;MeetTime&gt;()&#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(MeetTime a, MeetTime b)</span> </span>&#123;</div><div class="line">                <span class="keyword">if</span> (a.time == b.time) &#123;</div><div class="line">                    <span class="keyword">return</span> a.start - b.start;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> a.time - b.time;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> rooms = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (MeetTime mt : mts) &#123;</div><div class="line">            rooms = mt.start == <span class="number">1</span> ? rooms + <span class="number">1</span> : rooms - <span class="number">1</span>;</div><div class="line">            res = Math.max(res, rooms);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Rearrange String k Distance Apart</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Tuple</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Tuple</span>&gt;</span>&#123;</div><div class="line">        <span class="keyword">int</span> count;</div><div class="line">        <span class="keyword">char</span> c;</div><div class="line">        <span class="keyword">int</span> index;</div><div class="line">        Tuple(<span class="keyword">int</span> count, <span class="keyword">char</span> c, <span class="keyword">int</span> index) &#123;</div><div class="line">            <span class="keyword">this</span>.count = count;</div><div class="line">            <span class="keyword">this</span>.c = c;</div><div class="line">            <span class="keyword">this</span>.index = index;</div><div class="line">        &#125;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Tuple that)</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> that.count - <span class="keyword">this</span>.count;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">rearrangeString</span><span class="params">(String str, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        Queue&lt;Tuple&gt; dead = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</div><div class="line">        Queue&lt;Tuple&gt; lives = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line">        <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c: str.toCharArray()) &#123;</div><div class="line">            count[c - <span class="string">'a'</span>]++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (count[i] != <span class="number">0</span>) &#123;</div><div class="line">                lives.offer(<span class="keyword">new</span> Tuple(count[i], (<span class="keyword">char</span>)(<span class="string">'a'</span> + i), <span class="number">0</span>));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (!dead.isEmpty() &amp;&amp; dead.peek().index &lt;= i) &#123;</div><div class="line">                lives.offer(dead.poll());</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (lives.isEmpty()) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                Tuple t = lives.poll();</div><div class="line">                sb.append(t.c);</div><div class="line">                <span class="keyword">if</span> (--t.count &gt; <span class="number">0</span>) &#123;</div><div class="line">                    t.index = i + k;</div><div class="line">                    dead.offer(t);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Super Ugly Number</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//O( log(k)N )</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">solution2</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumberHeap</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[] ugly = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line"></div><div class="line">        PriorityQueue&lt;Num&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; primes.length; i++) &#123;</div><div class="line">            pq.add(<span class="keyword">new</span> Num(primes[i], <span class="number">1</span>, primes[i]));</div><div class="line">        &#125;</div><div class="line">        ugly[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</div><div class="line">            ugly[i] = pq.peek().val;</div><div class="line">            <span class="keyword">while</span> (pq.peek().val == ugly[i]) &#123;</div><div class="line">                Num nxt = pq.poll();</div><div class="line">                pq.add(<span class="keyword">new</span> Num(nxt.p * ugly[nxt.idx], nxt.idx + <span class="number">1</span>, nxt.p));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> ugly[n - <span class="number">1</span>];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Num</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Num</span>&gt; </span>&#123;</div><div class="line">        <span class="keyword">int</span> val;</div><div class="line">        <span class="keyword">int</span> idx;</div><div class="line">        <span class="keyword">int</span> p;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Num</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> idx, <span class="keyword">int</span> p)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.val = val;</div><div class="line">            <span class="keyword">this</span>.idx = idx;</div><div class="line">            <span class="keyword">this</span>.p = p;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Num that)</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.val - that.val;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>The Skyline problem</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SkyLineProblem</span> </span>&#123;</div><div class="line">    <span class="comment">//use PriorityQueue, remove(E e) is O(n) action.</span></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">        <span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; getSkyline(<span class="keyword">int</span>[][] buildings) &#123;</div><div class="line">            List&lt;<span class="keyword">int</span>[]&gt; heights = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            List&lt;<span class="keyword">int</span>[]&gt; results = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span>[] building : buildings)&#123;</div><div class="line">                heights.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;building[<span class="number">0</span>],-building[<span class="number">2</span>]&#125;);</div><div class="line">                heights.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;building[<span class="number">1</span>],building[<span class="number">2</span>]&#125;);</div><div class="line">            &#125;</div><div class="line">            Collections.sort(heights, (a, b) -&gt; a[<span class="number">0</span>] == b[<span class="number">0</span>] ? a[<span class="number">1</span>] - b[<span class="number">1</span>] : a[<span class="number">0</span>] - b[<span class="number">0</span>]);</div><div class="line">            Queue&lt;Integer&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());</div><div class="line">            queue.offer(<span class="number">0</span>);</div><div class="line">            <span class="keyword">int</span> prev = <span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span>[] height : heights)&#123;</div><div class="line">                <span class="keyword">if</span>(height[<span class="number">1</span>] &lt; <span class="number">0</span>)&#123;</div><div class="line">                    queue.offer(-height[<span class="number">1</span>]);</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    queue.remove(height[<span class="number">1</span>]);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(queue.peek() != prev)&#123;</div><div class="line">                    results.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;height[<span class="number">0</span>], queue.peek()&#125;);</div><div class="line">                    prev = queue.peek();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> results;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong><a href="https://leetcode.com/problems/trapping-rain-water-ii/" target="_blank" rel="external">trapping rain water 2</a></strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrappingRainWaterii</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Cell</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Cell</span>&gt;</span>&#123;</div><div class="line">            <span class="keyword">int</span> x;</div><div class="line">            <span class="keyword">int</span> y;</div><div class="line">            <span class="keyword">int</span> h;</div><div class="line">            Cell(<span class="keyword">int</span> xx, <span class="keyword">int</span> yy, <span class="keyword">int</span> hh) &#123;x = xx; y = yy; h = hh;&#125;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Cell that)</span> </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.h - that.h;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trapRainWater</span><span class="params">(<span class="keyword">int</span>[][] heightMap)</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (heightMap == <span class="keyword">null</span> || heightMap.length == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span> n = heightMap.length;</div><div class="line">            <span class="keyword">int</span> m = heightMap[<span class="number">0</span>].length;</div><div class="line">            Queue&lt;Cell&gt; outer = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line">            <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n][m];</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j) &#123;</div><div class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span> || i == n - <span class="number">1</span> || j == <span class="number">0</span> || j == m - <span class="number">1</span>) &#123;</div><div class="line">                        outer.offer(<span class="keyword">new</span> Cell(i, j, heightMap[i][j]));</div><div class="line">                        visited[i][j] = <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">int</span>[][] dirs = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</div><div class="line">            <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">            <span class="keyword">while</span> (!outer.isEmpty()) &#123;</div><div class="line">                Cell cur = outer.poll();</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</div><div class="line">                    <span class="keyword">int</span> nx = cur.x + dir[<span class="number">0</span>];</div><div class="line">                    <span class="keyword">int</span> ny = cur.y + dir[<span class="number">1</span>];</div><div class="line">                    <span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; nx &lt; n &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; ny &lt; m &amp;&amp; visited[nx][ny] == <span class="keyword">false</span>) &#123;</div><div class="line">                        res += Math.max(<span class="number">0</span>, cur.h - heightMap[nx][ny]);</div><div class="line">                        outer.offer(<span class="keyword">new</span> Cell(nx, ny, Math.max(cur.h, heightMap[nx][ny])));  <span class="comment">//keypoint</span></div><div class="line">                        visited[nx][ny] = <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Farey Sequence</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">第二轮，面的人是华裔小哥，人很喜感也挺nice，也是一上来做题。</div><div class="line">题目是给你一个positive的值K，然后按照fraction的值的小到大输出所有n/d,</div><div class="line">其中1&lt;=d&lt;=k, 0&lt;=n&lt;=d，还有一个要求输出的fraction不能有duplicate，</div><div class="line">比如1/2和2/4是duplicate，这种情况只要输出1/2。</div><div class="line">复杂度 k^2 log k</div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FareySequence</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">        <span class="comment">// n in [0, d]</span></div><div class="line">        <span class="comment">// d in [1, k]</span></div><div class="line">        <span class="function"><span class="keyword">public</span> List&lt;Fraction&gt; <span class="title">allFractions</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (k &lt; <span class="number">1</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Invalid denominator."</span>);</div><div class="line">            List&lt;Fraction&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            ans.add(<span class="keyword">new</span> Fraction(<span class="number">0</span>, <span class="number">1</span>));</div><div class="line">            PriorityQueue&lt;Fraction&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> de = <span class="number">2</span>; de &lt;= k; ++de) heap.offer(<span class="keyword">new</span> Fraction(<span class="number">1</span>, de));</div><div class="line">            <span class="keyword">while</span> (!heap.isEmpty()) &#123;</div><div class="line">                Fraction f = heap.poll();</div><div class="line">                ans.add(<span class="keyword">new</span> Fraction(f));</div><div class="line">                <span class="keyword">while</span> (!heap.isEmpty() &amp;&amp; heap.peek().isSameValue(f)) &#123;</div><div class="line">                    Fraction x = heap.poll();</div><div class="line">                    <span class="keyword">if</span> (++x.nu &lt; x.de) heap.offer(x);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (++f.nu &lt; f.de) heap.offer(f);</div><div class="line">            &#125;</div><div class="line">            ans.add(<span class="keyword">new</span> Fraction(<span class="number">1</span>, <span class="number">1</span>));</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Fraction</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Fraction</span>&gt; </span>&#123;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> nu, de;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Fraction</span><span class="params">(<span class="keyword">int</span> nu, <span class="keyword">int</span> de)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.nu = nu;</div><div class="line">            <span class="keyword">this</span>.de = de;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        Fraction(Fraction that) &#123;</div><div class="line">            <span class="keyword">this</span>.nu = that.nu;</div><div class="line">            <span class="keyword">this</span>.de = that.de;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSameValue</span><span class="params">(Fraction that)</span> </span>&#123;</div><div class="line">            <span class="keyword">long</span> x = ((<span class="keyword">long</span>) <span class="keyword">this</span>.nu) * ((<span class="keyword">long</span>) that.de);</div><div class="line">            <span class="keyword">long</span> y = ((<span class="keyword">long</span>) that.nu) * ((<span class="keyword">long</span>) <span class="keyword">this</span>.de);</div><div class="line">            <span class="keyword">return</span> x == y;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Fraction that)</span> </span>&#123;</div><div class="line">            <span class="keyword">long</span> x = ((<span class="keyword">long</span>) <span class="keyword">this</span>.nu) * ((<span class="keyword">long</span>) that.de);</div><div class="line">            <span class="keyword">long</span> y = ((<span class="keyword">long</span>) that.nu) * ((<span class="keyword">long</span>) <span class="keyword">this</span>.de);</div><div class="line">            <span class="keyword">if</span> (x &lt; y) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span> (x &gt; y) <span class="keyword">return</span> +<span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.de &lt; that.de) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.de &gt; that.de) <span class="keyword">return</span> +<span class="number">1</span>;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Top K In Heapified Array</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//easy</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuple</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Tuple</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">int</span> idx, val;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Tuple</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.idx = idx;</div><div class="line">        <span class="keyword">this</span>.val = val;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">left</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> idx * <span class="number">2</span> + <span class="number">1</span>;&#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">right</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> idx * <span class="number">2</span> + <span class="number">2</span>;&#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Tuple that)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.val - that.val;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-Heap-PriorityQueue/" data-id="cjqshy50y0004d29zz56fh3y1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-Array-Sort" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-Array-Sort/" class="article-date">
  <time datetime="2016-11-03T03:54:36.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-Array-Sort/">summary for Array Sort</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="123分类总结之Array-amp-Sort"><a href="#123分类总结之Array-amp-Sort" class="headerlink" title="123分类总结之Array &amp; Sort"></a>123分类总结之Array &amp; Sort</h1><h2 id="Sorting-knowledge"><a href="#Sorting-knowledge" class="headerlink" title="Sorting knowledge"></a>Sorting knowledge</h2><h4 id="old-fashion-sort"><a href="#old-fashion-sort" class="headerlink" title="old fashion sort:"></a>old fashion sort:</h4><ul>
<li>bubble sort</li>
<li>select sort</li>
<li>insert sort</li>
</ul>
<h4 id="compare-based-sort"><a href="#compare-based-sort" class="headerlink" title="compare based sort:"></a>compare based sort:</h4><ol>
<li><p>merge sort:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//t: O(nlogn), s: O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">    mergeSort(arr, <span class="keyword">new</span> <span class="keyword">int</span>[arr.length], <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span>[] temp, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = (l + r) / <span class="number">2</span>;</span><br><span class="line">        mergeSort(arr, temp, l, m);</span><br><span class="line">        mergeSort(arr , temp, m + <span class="number">1</span>, r);</span><br><span class="line">        merge(arr, l, m, r, temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> l, <span class="keyword">int</span> m, <span class="keyword">int</span> r, <span class="keyword">int</span>[] temp)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">int</span> n1 = m - l + <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">int</span> n2 = r - m;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = l; i &lt;= m; ++i) &#123;</span><br><span class="line">       temp[i] = arr[i];</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = m + <span class="number">1</span>; j &lt;= r; ++j) &#123;</span><br><span class="line">       temp[j] = arr[j];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span> i = l, j = m + <span class="number">1</span>, k = l;</span><br><span class="line">   <span class="keyword">while</span> (i &lt; m + <span class="number">1</span> &amp;&amp; j &lt; r + <span class="number">1</span>) &#123;</span><br><span class="line">       <span class="keyword">if</span> (temp[i] &lt;= temp[j]) &#123;</span><br><span class="line">           arr[k++] = temp[i++];</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           arr[k++] = temp[j++];</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">while</span> (i &lt; m + <span class="number">1</span>) &#123;</span><br><span class="line">       arr[k++] = temp[i++];</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span> (j &lt; r + <span class="number">1</span>) &#123;</span><br><span class="line">       arr[k++] = temp[j++];</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>quick sort:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//t: O(nlogn), s: O(1)</span></span><br><span class="line"><span class="comment">//unstable</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] n)</span> </span>&#123;</span><br><span class="line">    quickSort(n, <span class="number">0</span>, n.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] n, <span class="keyword">int</span> l, <span class="keyword">int</span> h)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &lt; h) &#123;</span><br><span class="line">        <span class="keyword">int</span> pivotIndex = partition(n, l, h);</span><br><span class="line">        quickSort(n, l, pivotIndex - <span class="number">1</span>);</span><br><span class="line">        quickSort(n, pivotIndex + <span class="number">1</span>, h);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//this can also used for quick select</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] n, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pivot = start;</span><br><span class="line">    <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">        <span class="keyword">while</span> (start &lt;= end &amp;&amp; n[start] &lt;= n[pivot]) &#123;</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (start &lt;= end &amp;&amp; n[end] &gt; n[pivot]) &#123;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (start &lt; end) &#123;</span><br><span class="line">            swap(n, start, end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(n, pivot, end);</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] n, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = n[a];</span><br><span class="line">    n[a] = n[b];</span><br><span class="line">    n[b] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>quick select:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// find kth largest number in array</span></span><br><span class="line"><span class="comment">// avg O(n), worst case: O(n^2), rondomly choose pivot can reduce worst case prob</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rank = nums.length - k;</span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> hi = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = partition(nums, lo, hi);</span><br><span class="line">        <span class="keyword">if</span>(cur &lt; rank) &#123;</span><br><span class="line">            lo = cur + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur &gt; rank) &#123;</span><br><span class="line">            hi = cur - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[rank];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li><a href="https://leetcode.com/problems/kth-largest-element-in-an-array/" target="_blank" rel="noopener">Kth Largest Element in an Array</a>: avg time O(n)</li>
</ul>
<ol start="4">
<li><p>Heapsort</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Queue q = <span class="keyword">new</span> PriorityQueue()</span><br></pre></td></tr></table></figure>
</li>
<li><p>external sort:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">/* </span></span><br><span class="line"><span class="comment">   1.For example, for sorting 900 megabytes of data using only 100 megabytes of RAM:</span></span><br><span class="line"><span class="comment">   2.Read 100 MB of the data in main memory and sort by some conventional method。 Write the sorted data to disk.</span></span><br><span class="line"><span class="comment">   3.Read the first 10 MB (= 100MB / (9 chunks + 1)) of each sorted chunk into input buffers in main memory and allocate the remaining 10 MB for an output buffer. (In practice, it might provide better performance to make the output buffer larger and the input buffers slightly smaller.)</span></span><br><span class="line"><span class="comment">   4.Perform a 9-way merge and store the result in the output buffer. Whenever the output buffer fills, write it to the final sorted file and empty it. Whenever any of the 9 input buffers empties, fill it with the next 10 MB of its associated 100 MB sorted chunk until no more data from the chunk is available. This is the key step that makes external merge sort work externally -- because the merge algorithm only makes one pass sequentially through each of the chunks, each chunk does not have to be loaded completely; rather, sequential parts of the chunk can be loaded as needed.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">Queue q = <span class="keyword">new</span> PriorityQueue()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="non-compare-based-sort"><a href="#non-compare-based-sort" class="headerlink" title="non-compare based sort"></a>non-compare based sort</h4><ol start="6">
<li>count sort:<br>当输入的元素是n个0到k之间的整数时，它的运行时间是Θ(n + k)。计数排序不是比较排序，排序的速度快于任何比较排序算法。<br>example qustions: <a href="https://leetcode.com/problems/sort-characters-by-frequency/" target="_blank" rel="noopener">sort characters by frequency</a><br><strong>time</strong>: O(n + k)<br><strong>space</strong>: O(n + k)</li>
</ol>
<ul>
<li><a href="https://leetcode.com/problems/h-index/" target="_blank" rel="noopener">H-Index</a></li>
</ul>
<ol start="7">
<li><p>radix sort:<br>排序过程：将所有待比较数值（正整数）统一为同样的数位长度，数位较短的数前面补零。然后，从最低位开始，依次进行一次排序。这样从最低位排序一直到最高位排序完成以后, 数列就变成一个有序序列。基数排序法将要排序的元素分配至 0~9 个桶。<br><strong>time</strong>:  O(wn) for n keys which are integers of word size w<br><strong>space</strong>: O(w + N)</p>
</li>
<li><p>bucket sort:<br>当使用count sort时, 数组里数值的范围太大怎么办。分范围count sort。<br><strong>time</strong>: O(N + NlogN - NlogM), M为桶的个数<br><strong>space</strong>: O(M)</p>
</li>
</ol>
<hr>
<h3 id="two-point-related-question"><a href="#two-point-related-question" class="headerlink" title="two point related question"></a>two point related question</h3><ul>
<li><p>WildCard Matching</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> indexS, </span><br><span class="line"><span class="keyword">int</span> indexP</span><br><span class="line"><span class="keyword">int</span> preS,</span><br><span class="line"><span class="keyword">int</span> preP,</span><br><span class="line"><span class="keyword">if</span> (not match and have star)&#123;</span><br><span class="line">    roll back</span><br><span class="line">    indexP = preP + <span class="number">1</span>;</span><br><span class="line">    indexS = (++pref);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Regular Expression Matching</p>
</li>
<li><p><a href="">longest consecutive sequence</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//set with two point</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Three Sum Smaller</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">threeSumSmaller</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len-<span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> left = i+<span class="number">1</span>, right = len-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] + nums[left] + nums[right] &lt; target) &#123;</span><br><span class="line">                count += right-left;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>leftSumEqualsToRightSum</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">centre</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> x : nums) sum += x;</span><br><span class="line">    <span class="keyword">if</span> ((sum &amp; <span class="number">1</span>) == <span class="number">1</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    sum &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">        sum -= nums[i];</span><br><span class="line">        <span class="keyword">if</span> (sum == <span class="number">0</span>) <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">weightedCentre</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sumAll = <span class="number">0</span>, right = <span class="number">0</span>, left = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt; -<span class="number">1</span>; --i) &#123;</span><br><span class="line">        right += sumAll;</span><br><span class="line">        sumAll += nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">        left += sum;</span><br><span class="line">        <span class="keyword">if</span> (left == right) <span class="keyword">return</span> i;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        right -= sumAll - sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="sort-related-questions"><a href="#sort-related-questions" class="headerlink" title="sort related questions"></a>sort related questions</h3><ul>
<li><p><a href="https://leetcode.com/problems/top-k-frequent-elements/" target="_blank" rel="noopener">Top K Frequent Elements</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//count sort</span></span><br><span class="line"><span class="comment">//O(n)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>wiggle sort</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n)</span></span><br><span class="line"><span class="comment">//如果i是奇数，nums[i] &gt;= nums[i - 1]</span></span><br><span class="line"><span class="comment">//如果i是偶数，nums[i] &lt;= nums[i - 1]</span></span><br><span class="line"><span class="comment">//后面的交换不会影响前面的, num[i-1] &lt; num[i] &lt; num[i+1] -&gt; nums[i-1] &lt; nums[i+1]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>wiggle sort2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//wtf</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wiggleSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> median = KthLargestElementInArray.findKthLargest(nums, nums.length &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>, t = nums.length-<span class="number">1</span>, mid = (nums.length+<span class="number">1</span>) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] tmp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] &lt; median) tmp[s++] = nums[i];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] &gt; median) tmp[t--] = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(s &lt; mid) tmp[s++] = median;</span><br><span class="line">    <span class="keyword">while</span>(t &gt;= mid) tmp[t--] = median;</span><br><span class="line">    t = nums.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">        nums[i] = (i &amp; <span class="number">1</span>) == <span class="number">0</span> ? tmp[--s] : tmp[--t];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/count-of-range-sum/" target="_blank" rel="noopener">Count of Range Sum</a></p>
</li>
<li><p><a href="https://leetcode.com/problems/h-index/" target="_blank" rel="noopener">H-Index</a></p>
</li>
<li><p><a href="https://leetcode.com/problems/kth-largest-element-in-an-array/" target="_blank" rel="noopener">Kth Largest Element in an Array</a>: avg time O(n)</p>
</li>
</ul>
<h3 id="other-questions"><a href="#other-questions" class="headerlink" title="other questions:"></a>other questions:</h3><ul>
<li><p><a href="https://leetcode.com/problems/game-of-life/" target="_blank" rel="noopener">Game of Life</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//00 = die  &lt;- die, 01 = die  &lt;- live, 10 = live &lt;- die, 11 = live &lt;- live</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/insert-interval/" target="_blank" rel="noopener">Insert Interval</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1. insertInterval before current, change to null after inserted</span></span><br><span class="line">    <span class="comment">//2. insertInterval after current,</span></span><br><span class="line">    <span class="comment">//3. overlap</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">insert</span><span class="params">(List&lt;Interval&gt; intervals, Interval newInterval)</span> </span>&#123;</span><br><span class="line">        List&lt;Interval&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (intervals == <span class="keyword">null</span> || intervals.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Collections.singletonList(newInterval);</span><br><span class="line">        &#125;</span><br><span class="line">        Interval insert = <span class="keyword">new</span> Interval(newInterval.start, newInterval.end);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; intervals.size(); ++i) &#123;</span><br><span class="line">            Interval curInterval = intervals.get(i);</span><br><span class="line">            <span class="keyword">if</span> (insert == <span class="keyword">null</span> || curInterval.end &lt; insert.start) &#123;</span><br><span class="line">                res.add(curInterval);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (curInterval.start &gt; insert.end) &#123;</span><br><span class="line">                res.add(insert);</span><br><span class="line">                res.add(curInterval);</span><br><span class="line">                insert = <span class="keyword">null</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                insert = mergeInterval(curInterval, insert);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (insert != <span class="keyword">null</span>) &#123;</span><br><span class="line">            res.add(insert);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Interval <span class="title">mergeInterval</span> <span class="params">(Interval cur, Interval insert)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start = Math.min(cur.start, insert.start);</span><br><span class="line">        <span class="keyword">int</span> end = Math.max(cur.end, insert.end);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Interval(start, end);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/merge-intervals/" target="_blank" rel="noopener">Merge Intervals</a></p>
</li>
<li><p><a href="https://leetcode.com/problems/missing-ranges/" target="_blank" rel="noopener">Missing Ranges</a></p>
</li>
<li><p><a href="https://leetcode.com/problems/patching-array/" target="_blank" rel="noopener">Patching Array</a></p>
</li>
<li><p><a href="https://leetcode.com/problems/perfect-rectangle/" target="_blank" rel="noopener">Perfect Rectangle</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. the large rectangle area should be equal to the sum of small rectangles</span><br><span class="line"><span class="number">2</span>. count of all the points should be even, and that of all the four corner points should be one</span><br></pre></td></tr></table></figure>
</li>
<li><p>LinedList plus one</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">addOne</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line">        Node not9 = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">        not9.next = head;</span><br><span class="line">        head = not9;</span><br><span class="line">        <span class="keyword">for</span> (Node node = head; node != <span class="keyword">null</span>; node = node.next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (node.val != <span class="number">9</span>) not9 = node;</span><br><span class="line">        &#125;</span><br><span class="line">        not9.val += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (Node node = not9.next; node != <span class="keyword">null</span>; node = node.next) &#123;</span><br><span class="line">            node.val = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head.val &gt; <span class="number">0</span> ? head : head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/queue-reconstruction-by-height/" target="_blank" rel="noopener">Queue Reconstruction by Height</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pick up the tallest guy first</span></span><br><span class="line"><span class="comment">//when insert the next tall guy, just need to insert him into kth position</span></span><br><span class="line"><span class="comment">//repeat until all people are inserted into list</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/trapping-rain-water/" target="_blank" rel="noopener">trapping rain water</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n) time, O(1) space</span></span><br><span class="line"><span class="comment">//find the bin with max height</span></span><br><span class="line"><span class="comment">//from 0 to this bin, right side max already know</span></span><br><span class="line"><span class="comment">//from length to this bin, left side max already know</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Rearrange Array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">然后是一道关于按照固定的顺序重新排序，多少次排序才能回到初始顺序的题目，我们总是把第x个位置的元素移到第y个位置，比如【0，1，2，3】就是完全不换顺序，一次排序就回去了；【3，2，1，0】是位置3和位置0互换，位置2和位置1互换，两次排序就能回到原顺序；而【1，2，3，0】就是每次把一个位置上的元素往后移动一个位置，那显然转一圈就回来了。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">举个例子，原来的input为[20, 34, 7, 9], 排序要求为[1, 3, 2, 0]</span></span><br><span class="line"><span class="comment">一次排序后：</span></span><br><span class="line"><span class="comment">[20, 34, 7, 9]  -&gt; [34, 9, 7, 20]</span></span><br><span class="line"><span class="comment">二次排序后:</span></span><br><span class="line"><span class="comment">[34, 9, 7, 20]  -&gt; [9, 20, 7, 34]</span></span><br><span class="line"><span class="comment">三次排序后：</span></span><br><span class="line"><span class="comment">[9, 20, 7, 34]  -&gt; [20, 34, 7, 9]  (此时和初始顺序一致，所以是用了三个iteration恢复原样)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">排序规则[1, 3, 2, 0]的意思是把在位置1的元素排到第0个位置，位置3的元素排到第2个位置，位置2的元素还是在位置2，位置0的元素放到位置3去。 排序规则不变，每次只是Input被按照规则改变了顺序。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minRearrange</span><span class="params">(<span class="keyword">int</span>[] pattern)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = pattern.length;</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> j = i, k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            visited[j] = <span class="keyword">true</span>;</span><br><span class="line">            k++;</span><br><span class="line">            j = pattern[j];</span><br><span class="line">            <span class="keyword">if</span> (j == i) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (j &lt; <span class="number">0</span> || j &gt;= n || visited[j]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = lcm(ans, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">lcm</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / gcd(a, b) * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b == <span class="number">0</span> ? a : gcd(b, a % b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>X-Straight</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Define “X-Straight” as X cards with consecutive numbers (X &gt;= 3).</span></span><br><span class="line"><span class="comment">Determine if the deck can be fully divided into sets of “X-Straight”.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// assuming number on the card is 1 to 13</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XStraight</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">13</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isXStraights</span><span class="params">(<span class="keyword">int</span>[] cards)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> card : cards) count[card]++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] head = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">2</span>];</span><br><span class="line">        head[<span class="number">1</span>] = count[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; m + <span class="number">2</span>; ++i) &#123;</span><br><span class="line">            head[i] = Math.max(<span class="number">0</span>, count[i] - count[i - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (count[i] &lt; head[i - <span class="number">1</span>] + head[i - <span class="number">2</span>])</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-Array-Sort/" data-id="cjqshy50s0001d29zl5hw2be0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-tree" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-tree/" class="article-date">
  <time datetime="2016-11-03T03:54:26.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-tree/">summary for tree</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="分类总结之Tree"><a href="#分类总结之Tree" class="headerlink" title="分类总结之Tree"></a>分类总结之Tree</h1><h3 id="basic-knowledge"><a href="#basic-knowledge" class="headerlink" title="basic knowledge"></a>basic knowledge</h3><ul>
<li><p><code>search/traversal</code>:</p>
<ul>
<li><p>preOrder: </p>
<ul>
<li><p>recursion: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>; </div><div class="line">    &#125;</div><div class="line">    visit(root);</div><div class="line">    preOrder(root.left);</div><div class="line">    preOrder(root.right);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>iterative: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// An iterative process to print preorder traversal of Binary tree</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">iterativePreorder</span><span class="params">(Node node)</span> </span>&#123;</div><div class="line">    Deque&lt;Node&gt; nodeStack = <span class="keyword">new</span> LinkedList&lt;Node&gt;();</div><div class="line">    nodeStack.push(root);</div><div class="line">    <span class="keyword">while</span> (!nodeStack.isEmpty()) &#123;</div><div class="line">        Node mynode = nodeStack.peekFirst();</div><div class="line">        System.out.print(mynode.data + <span class="string">" "</span>);</div><div class="line">        nodeStack.pollFirst();</div><div class="line">       </div><div class="line">        <span class="keyword">if</span> (mynode.right != <span class="keyword">null</span>) &#123;</div><div class="line">            nodeStack.addFirst(mynode.right);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mynode.left != <span class="keyword">null</span>) &#123;</div><div class="line">            nodeStack.addFirst(mynode.left);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>inOrder: in-order traversal retrieves data in sorted orde</p>
<ul>
<li><p>recursion:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>; </div><div class="line">    &#125;</div><div class="line">    preOrder(root.left);</div><div class="line">    visit(root);</div><div class="line">    preOrder(root.right);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>iterative: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">iterativeInOrder</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">    Deque&lt;TreeNode&gt; stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">while</span>(root != <span class="keyword">null</span>) &#123;</div><div class="line">        stack.addFirst(root);</div><div class="line">        root = root.left;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">        TreeNode node = stack.removeFirst();</div><div class="line">        System.out.println(node.val);</div><div class="line">        node = node.right;</div><div class="line">        <span class="keyword">while</span>(node != <span class="keyword">null</span>) &#123;</div><div class="line">            stack.addFirst(node);</div><div class="line">            node = node.left;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>PostOder</p>
<ul>
<li>recursion:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>; </div><div class="line">    &#125;</div><div class="line">    preOrder(root.left);</div><div class="line">    preOrder(root.right);</div><div class="line">    visit(root);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Level/BFS</p>
<ul>
<li>iterative<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root != <span class="keyword">null</span>) &#123;</div><div class="line">        q.offer(root);</div><div class="line">    &#125; </div><div class="line">    Queue&lt;Node&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</div><div class="line">        <span class="keyword">int</span> size = q.size();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</div><div class="line">            Node cur = q.poll();</div><div class="line">            System.out.print(cur.val + <span class="string">","</span>);</div><div class="line">            <span class="keyword">if</span>(cur.left != <span class="keyword">null</span>) &#123;</div><div class="line">                q.offer(cur.left);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(cur.right != <span class="keyword">null</span>) &#123;</div><div class="line">                q.offer(cur.right);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        System.out.println(<span class="string">"..."</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><a href="http://www.geeksforgeeks.org/inorder-tree-traversal-without-recursion-and-without-stack/" target="_blank" rel="external">Morris Inorder Travelsal</a>: 不需要用stack的iterative方法</p>
</li>
</ul>
</li>
<li><p><code>reconstruction</code>: The trace of a traversal is called a sequentialisation of the tree. The traversal trace is a list of each visited root. No one sequentialisation according to pre-, in- or post-order describes the underlying tree uniquely. Given a tree with distinct elements, <strong>either pre-order or post-order paired with in-order</strong> is sufficient to describe the tree uniquely. However, pre-order with post-order leaves some ambiguity in the tree structure.</p>
</li>
</ul>
<h3 id="binary-search-tree"><a href="#binary-search-tree" class="headerlink" title="binary search tree"></a>binary search tree</h3><ul>
<li>implementation:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinarySearchTreeImpl</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> TreeNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BinarySearchTreeImpl</span><span class="params">()</span> </span>&#123;</div><div class="line">        root = <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">find</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> find(value, root);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        root = insert(value, root);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        root = delete(value, root);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">find</span><span class="params">(<span class="keyword">int</span> value, TreeNode node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (value == node.val) &#123;</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &lt; node.val) &#123;</div><div class="line">            <span class="keyword">return</span> find(value, root.left);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> find(value, root.right);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">insert</span><span class="params">(<span class="keyword">int</span> value, TreeNode node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(value);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (value == node.val) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"not allow duplicate"</span>);</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &lt; node.val) &#123;</div><div class="line">            root.left = insert(value, root.left);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            root.right = insert(value, root.right);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">delete</span><span class="params">(<span class="keyword">int</span> value, TreeNode node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"you can not delete null node"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (value == node.val) &#123;</div><div class="line">            <span class="keyword">if</span> (root.left != <span class="keyword">null</span> &amp;&amp; root.right != <span class="keyword">null</span>) &#123;</div><div class="line">                root.val = findMin(root.right).val;</div><div class="line">                root.right = removeMin(root.right);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                root = (root.left != <span class="keyword">null</span> ) ? root.left : root.right;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &lt; node.val) &#123;</div><div class="line">            root.left = delete(value, root.left);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            root.right = delete(value, root.right);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">findMin</span><span class="params">(TreeNode node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node.left != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> findMin(node.left);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">removeMin</span><span class="params">(TreeNode node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node.left == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> node.right;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            node.left = removeMin(node.left);</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="balanced-binary-search-tree"><a href="#balanced-binary-search-tree" class="headerlink" title="balanced binary search tree"></a>balanced binary search tree</h3><ul>
<li>AVL tree</li>
<li>red black tree</li>
</ul>
<h3 id="binary-indexed-tree-easy-extend-to-2D"><a href="#binary-indexed-tree-easy-extend-to-2D" class="headerlink" title="binary indexed tree(easy extend to 2D)"></a>binary indexed tree(easy extend to 2D)</h3><p>Solved prefix sum problem. Use for range sum query or range sum query 2D. BTW, for reverse-order problem, <strong>you need use element’s value as BIT’s index</strong>. The reason why we need to know bianry index tree, is shorter code and beautiful structure. Less code, Less time.</p>
<ul>
<li><p>1D Binary indexed tree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BIT</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] BIT;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] nums;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BIT</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.nums = nums;</div><div class="line">        <span class="keyword">this</span>.n = nums.length;</div><div class="line">        <span class="keyword">this</span>.BIT = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            init(i, nums[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        i++;</div><div class="line">        <span class="keyword">while</span> (i &lt;= n) &#123;</div><div class="line">            BIT[i] += val;</div><div class="line">            i += (i &amp; -i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> diff = val - nums[i];</div><div class="line">        nums[i] = val;</div><div class="line">        init(i, diff);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        i++;</div><div class="line">        <span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</div><div class="line">            sum += BIT[i];</div><div class="line">            i -= (i &amp; -i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> getSum(j) - getSum(i - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>2D Binary indexed tree: <a href="https://leetcode.com/problems/range-sum-query-2d-mutable/" target="_blank" rel="external">Range Sum Query 2D - Mutable</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//it's very easy to extends to 2D, just image each row inside matrix is also a binary indexed tree</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="segment-tree"><a href="#segment-tree" class="headerlink" title="segment tree"></a><a href="http://www.geeksforgeeks.org/segment-tree-set-1-sum-of-given-range/" target="_blank" rel="external">segment tree</a></h3><p>can be used for range sum, range max/min, array or matrix</p>
<ul>
<li><p>1D Segment Tree for Range Max Query, update should from bottom to top</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SegmentTreeRMQ</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> TreeNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SegmentTreeRMQ</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        root = array.length == <span class="number">0</span> ? <span class="keyword">null</span> : buildTree(array, <span class="number">0</span>, array.length - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        TreeNode p = root;</div><div class="line">        <span class="keyword">while</span> (p.l != p.r) &#123;</div><div class="line">            p = (index &lt;= (p.l + p.r) / <span class="number">2</span>) ? p.left : p.right;</div><div class="line">        &#125;</div><div class="line">        p.max = val;</div><div class="line">        <span class="keyword">while</span> (p.parent != <span class="keyword">null</span>) &#123;</div><div class="line">            p = p.parent;</div><div class="line">            p.max = Math.max(p.left.max, p.right.max);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> maxRange(root, l, r);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//helper function start here</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">maxRange</span><span class="params">(TreeNode root, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (l &gt; r) &#123;</div><div class="line">            <span class="keyword">return</span> Integer.MIN_VALUE;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (root.l == l &amp;&amp; root.r == r) &#123;</div><div class="line">            <span class="keyword">return</span> root.max;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> mid = (root.l + root.r) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> Math.max(maxRange(root.left, l, mid), maxRange(root.right, mid + <span class="number">1</span>, r));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (l &gt; r) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        TreeNode node = <span class="keyword">new</span> TreeNode(l, r);</div><div class="line">        <span class="keyword">if</span> (l == r) &#123;</div><div class="line">            node.max = array[l];</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">        node.left = buildTree(array, l, mid);</div><div class="line">        node.right = buildTree(array, mid + <span class="number">1</span>, r);</div><div class="line">        node.left.parent = node.right.parent = node;</div><div class="line">        node.max = Math.max(node.left.max, node.right.max);</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> l, r, max;</div><div class="line">        TreeNode left, right;</div><div class="line">        TreeNode parent;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.l = l;</div><div class="line">            <span class="keyword">this</span>.r = r;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>2D Segment Tree/Quad tree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> mianjing.google.Tree;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by vee on 10/15/16.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SegmentTree2DRMQ</span> </span>&#123;</div><div class="line"></div><div class="line">    TreeNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SegmentTree2DRMQ</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">        root = matrix.length == <span class="number">0</span> ? <span class="keyword">null</span> : buildTree(matrix, <span class="number">0</span>, <span class="number">0</span>, matrix.length - <span class="number">1</span>, matrix[<span class="number">0</span>].length - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        TreeNode p = root;</div><div class="line">        <span class="keyword">while</span> (p.row1 != p.row2 &amp;&amp; p.col1 != p.col2) &#123;</div><div class="line">            <span class="keyword">int</span> rowMid = (p.row1 + p.row2) / <span class="number">2</span>;</div><div class="line">            <span class="keyword">int</span> colMid = (p.col1 + p.col2) / <span class="number">2</span>;</div><div class="line">            p = (row &lt;= rowMid) ? (col &lt;= colMid ? p.c1 : p.c2 ) : ( col &lt;= colMid ? p.c3 : p.c4);</div><div class="line">        &#125;</div><div class="line">        p.max = val;</div><div class="line">        <span class="keyword">while</span> (p.parent != <span class="keyword">null</span>) &#123;</div><div class="line">            p = p.parent;</div><div class="line">            p.max = Math.max(Math.max(p.c1.max, p.c2.max), Math.max(p.c3.max, p.c4.max));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">queryMax</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> maxRegion(root, row1, col1, row2, col2);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">maxRegion</span><span class="params">(TreeNode p, <span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (p.row1 &gt; row2 || p.col1 &gt; p.col2) &#123;</div><div class="line">            <span class="keyword">return</span> Integer.MIN_VALUE;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (p.row1 == row1 &amp;&amp; p.col1 == col1 &amp;&amp; p.row2 == row2 &amp;&amp; p.col2 == col2) &#123;</div><div class="line">            <span class="keyword">return</span> root.max;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rowM = (p.row1 + p.row2) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> colM = (p.col1 + p.col2) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> Math.max(Math.max(maxRegion(p.c1, row1, col1, rowM, colM), maxRegion(p.c2, row1, colM + <span class="number">1</span>, rowM, col2)),</div><div class="line">                Math.max(maxRegion(p.c3, rowM + <span class="number">1</span>, col1, row2, colM), maxRegion(p.c4, rowM + <span class="number">1</span>, colM + <span class="number">1</span>, row2, col2)));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (row2 &lt; row1 || col2 &lt; col1) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        TreeNode node = <span class="keyword">new</span> TreeNode(row1, col1, row2, col2);</div><div class="line">        <span class="keyword">if</span> (row1 == row2 &amp;&amp; col1 == col2) &#123;</div><div class="line">            node.max = matrix[row1][col1];</div><div class="line">            <span class="keyword">return</span> node;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rowMid = (row1 + row2) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> colMid = (col1 + col2) / <span class="number">2</span>;</div><div class="line">        node.c1 = buildTree(matrix, row1, col1, rowMid, colMid);</div><div class="line">        node.c2 = buildTree(matrix, row1, colMid + <span class="number">1</span>, rowMid, col2);</div><div class="line">        node.c3 = buildTree(matrix, rowMid + <span class="number">1</span>, col1, row2, colMid);</div><div class="line">        node.c4 = buildTree(matrix, rowMid + <span class="number">1</span>, colMid + <span class="number">1</span>, row2, col2);</div><div class="line">        node.c1.parent = node.c2.parent = node.c3.parent = node.c4.parent = node;</div><div class="line">        node.max = Math.max(Math.max(node.c1.max, node.c2.max), Math.max(node.c3.max, node.c4.max));</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row1, row2, col1, col2, max;</div><div class="line">        TreeNode c1, c2, c3, c4, parent;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.row1 = row1;</div><div class="line">            <span class="keyword">this</span>.col1 = col1;</div><div class="line">            <span class="keyword">this</span>.row2 = row2;</div><div class="line">            <span class="keyword">this</span>.col2 = col2;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="interval-tree-augmented-tree"><a href="#interval-tree-augmented-tree" class="headerlink" title="interval tree/augmented tree"></a><a href="http://www.geeksforgeeks.org/interval-tree/" target="_blank" rel="external">interval tree/augmented tree</a></h3><p>based on balanced binary search tree,<br>node store interval.left, interval.right, max(is the max value of subtree rooted at this node)<br>used interval.left as key in binary search tree<br>implementation(only used binary search tree, not balanced):<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http:<span class="comment">//www.acmerblog.com/interval-tree-5902.html</span></div></pre></td></tr></table></figure></p>
<h3 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h3><p>prefix tree<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">    TrieNode[] child;</div><div class="line">    <span class="keyword">boolean</span> isLeaf;</div><div class="line">    <span class="comment">// Initialize your data structure here.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</div><div class="line">        child = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">        isLeaf = <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> TrieNode root;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">()</span> </span>&#123;</div><div class="line">        root = <span class="keyword">new</span> TrieNode();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Inserts a word into the trie.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        TrieNode head = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); ++i) &#123;</div><div class="line">            <span class="keyword">char</span> c = word.charAt(i);</div><div class="line">            <span class="keyword">if</span> (head.child[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) &#123;</div><div class="line">                head.child[c - <span class="string">'a'</span>] = <span class="keyword">new</span> TrieNode();</div><div class="line">            &#125;</div><div class="line">            head = head.child[c - <span class="string">'a'</span>];</div><div class="line">        &#125;</div><div class="line">        head.isLeaf = <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Returns if the word is in the trie.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> match(word, <span class="keyword">false</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Returns if there is any word in the trie</span></div><div class="line">    <span class="comment">// that starts with the given prefix.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startsWith</span><span class="params">(String prefix)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> match(prefix, <span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">match</span><span class="params">(String word, <span class="keyword">boolean</span> isStartWith)</span> </span>&#123;</div><div class="line">        TrieNode head = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); ++i) &#123;</div><div class="line">            <span class="keyword">char</span> c = word.charAt(i);</div><div class="line">            head = head.child[c - <span class="string">'a'</span>];</div><div class="line">            <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> isStartWith ? <span class="keyword">true</span> : head.isLeaf;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h3><ul>
<li>PriorityQueue vs Heap</li>
<li>Heap implementation</li>
</ul>
<h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><ul>
<li>leetcode<br>1.<a href="https://leetcode.com/problems/binary-search-tree-iterator/" target="_blank" rel="external">Binary Search Tree Iterator</a><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">就是inorder traversal的iterative写法</div></pre></td></tr></table></figure>
</li>
</ul>
<p>2.<a href="https://leetcode.com/problems/binary-tree-longest-consecutive-sequence/" target="_blank" rel="external">Binary Tree Longest Consecutive Sequence</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//recursion</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[] lens = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>)  <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        helper(root, <span class="number">0</span>, lens, root.val);</div><div class="line">        <span class="keyword">return</span> lens[<span class="number">0</span>];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(TreeNode root, <span class="keyword">int</span> curLen, <span class="keyword">int</span>[] cnt, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>)  <span class="keyword">return</span>;</div><div class="line">        curLen = (root.val == target) ? curLen + <span class="number">1</span> : <span class="number">1</span>;</div><div class="line">        cnt[<span class="number">0</span>] = Math.max(cnt[<span class="number">0</span>], curLen);</div><div class="line">        helper(root.left, curLen, cnt, root.val + <span class="number">1</span>);</div><div class="line">        helper(root.right, curLen, cnt, root.val + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//iterative</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeWithLen</span> </span>&#123;</div><div class="line">    TreeNode node;</div><div class="line">    <span class="keyword">int</span> len;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NodeWithLen</span><span class="params">(TreeNode node, <span class="keyword">int</span> len)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.node = node;</div><div class="line">        <span class="keyword">this</span>.len = len;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">           <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">int</span> max = <span class="number">1</span>;</div><div class="line">       Deque&lt;NodeWithLen&gt; stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">       stack.addFirst(<span class="keyword">new</span> NodeWithLen(root, <span class="number">1</span>));</div><div class="line">       <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">           NodeWithLen curNodeLen = stack.removeFirst();</div><div class="line">           <span class="keyword">if</span> (curNodeLen.node.right != <span class="keyword">null</span>) &#123;</div><div class="line">               <span class="keyword">int</span> rightLen = (curNodeLen.node.val == curNodeLen.node.right.val - <span class="number">1</span>) ?  curNodeLen.len + <span class="number">1</span> : <span class="number">1</span>;</div><div class="line">               stack.addFirst(<span class="keyword">new</span> NodeWithLen(curNodeLen.node.right, rightLen));</div><div class="line">               max = Math.max(max, rightLen);</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">if</span> (curNodeLen.node.left != <span class="keyword">null</span>) &#123;</div><div class="line">               <span class="keyword">int</span> leftLen = (curNodeLen.node.val == curNodeLen.node.left.val - <span class="number">1</span>) ?  curNodeLen.len + <span class="number">1</span>: <span class="number">1</span>;</div><div class="line">               stack.addFirst(<span class="keyword">new</span> NodeWithLen(curNodeLen.node.left, leftLen));</div><div class="line">               max = Math.max(max, leftLen);</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> max;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.<a href="">Closest Binary Search Tree Value II</a></p>
<p>4.<a href="">Count Of Smaller Numbers After Self</a></p>
<p>5.<a href="">Serialize And Deserialize BinaryTree</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String spliter = <span class="string">","</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String nullNode = <span class="string">"#"</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Encodes a tree to a single string.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        buildSerialize(root, sb);</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildSerialize</span><span class="params">(TreeNode root, StringBuilder sb)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            sb.append(nullNode).append(spliter);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            sb.append(root.val).append(spliter);</div><div class="line">            buildSerialize(root.left, sb);</div><div class="line">            buildSerialize(root.right, sb);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Decodes your encoded data to tree.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</div><div class="line">        Queue&lt;String&gt; nodes = <span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(data.split(spliter)));</div><div class="line">        <span class="keyword">return</span> buildTree(nodes);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(Queue&lt;String&gt; nodes)</span> </span>&#123;</div><div class="line">        String node = nodes.remove();</div><div class="line">        <span class="keyword">if</span> (node.equals(nullNode)) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            TreeNode root = <span class="keyword">new</span> TreeNode(Integer.valueOf(node));</div><div class="line">            root.left = buildTree(nodes);</div><div class="line">            root.right = buildTree(nodes);</div><div class="line">            <span class="keyword">return</span> root;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>6.<a href="">Verify Preorder Serialization Of BinaryTree</a></p>
<ul>
<li>mianjing<br>1.Duplicate Subtree<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">duplicateSubtrees</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        HashMap&lt;String, Integer&gt; preorders = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        preorder(preorders, ans, root);</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">preorder</span><span class="params">(HashMap&lt;String, Integer&gt; preorders, List&lt;String&gt; ans, TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="string">"#"</span>;</div><div class="line">        String strLeft = preorder(preorders, ans, root.left);</div><div class="line">        String strRight = preorder(preorders, ans, root.right);</div><div class="line">        String pre = root.val + <span class="string">","</span> + strLeft + <span class="string">","</span> + strRight;</div><div class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (preorders.containsKey(pre)) &#123;</div><div class="line">            count = preorders.get(pre);</div><div class="line">            <span class="keyword">if</span> (count == <span class="number">1</span>) &#123;</div><div class="line">                ans.add(pre);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        preorders.put(pre, count + <span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span> pre;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-tree/" data-id="cjqshy51b0009d29zbywc2v7e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-summary-for-graph" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/summary-for-graph/" class="article-date">
  <time datetime="2016-11-03T03:54:18.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/summary-for-graph/">summary for graph</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="分类总结之Graph"><a href="#分类总结之Graph" class="headerlink" title="分类总结之Graph"></a>分类总结之Graph</h1><h3 id="basic-knowledge"><a href="#basic-knowledge" class="headerlink" title="basic knowledge"></a>basic knowledge</h3><ul>
<li>search/traverse:<ul>
<li>dfs: <ul>
<li>recursion: same memory cost as iterative way, stack memory .vs. heap memory</li>
<li>iterative: stack</li>
<li>time complexity: O(V + E)</li>
<li>use case: Generate Maze, check if exist a path, print path, cycle detection</li>
</ul>
</li>
<li>bfs:<ul>
<li>recursion: no</li>
<li>iterative: Queue or rolling array</li>
<li>time complexity: O(V + E)</li>
<li>use case: Min distance(only deal with weight = 1), <strong>multi-end bfs</strong> to solve <a href="https://leetcode.com/problems/walls-and-gates/" target="_blank" rel="external">Walls and Gates</a></li>
</ul>
</li>
</ul>
</li>
<li>representation:<ul>
<li>objects and pointers:</li>
<li>matrix: graph[][], graph[i][j] = 1 means i and j are connected </li>
<li>adjacent list: List<list<integer>&gt; graph</list<integer></li>
</ul>
</li>
</ul>
<h3 id="undirected-graph"><a href="#undirected-graph" class="headerlink" title="undirected graph"></a><a href="http://algs4.cs.princeton.edu/41graph/" target="_blank" rel="external">undirected graph</a></h3><ul>
<li>unweighted shortest path: BFS</li>
<li>find any path: DFS</li>
<li><p>cycle-detection: dfs with <strong>visited[] and parent</strong> check, <a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="external">LC261:Graph Valid Tree</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CycleDetectionInUndirectedGraph</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">boolean</span>[] visit = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (!visit[i]) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(i, visit, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsCycle</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">boolean</span>[] visit, List&lt;List&lt;Integer&gt;&gt; graph)</span> </span>&#123;</div><div class="line">        visit[i] = <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> node : graph.get(i)) &#123;</div><div class="line">            <span class="keyword">if</span> (!visit[node]) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(node, visit, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (node != i) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>connectivity</p>
<ul>
<li>static: dfs, <a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="external">LC261:Graph Valid Tree</a>, bfs, <a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/" target="_blank" rel="external">LC323:Number of Connected Components in an Undirected Graph</a></li>
<li>dynamic: union find</li>
</ul>
</li>
</ul>
<h3 id="directed-graph"><a href="#directed-graph" class="headerlink" title="directed graph"></a><a href="http://algs4.cs.princeton.edu/42digraph/" target="_blank" rel="external">directed graph</a></h3><ul>
<li>unweighted shortest path: BFS</li>
<li><p>dependency: Topological sort: <a href="https://leetcode.com/problems/course-schedule/" target="_blank" rel="external">course schedule</a>, <a href="https://leetcode.com/problems/alien-dictionary/" target="_blank" rel="external">alien dictionary</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">printTologicalOrder</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">int</span>[] inDegree = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">    <span class="comment">//build indegree array</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">        <span class="keyword">for</span> (Integer node : graph.get(i)) &#123;</div><div class="line">            inDegree[node]++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//push node with 0 indegree to queue</span></div><div class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123;</div><div class="line">            q.offer(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//delete node with 0 indegree and related edge</span></div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</div><div class="line">        Integer cur = q.poll();</div><div class="line">        res.add(cur);</div><div class="line">        <span class="keyword">for</span> (Integer node : graph.get(cur)) &#123;</div><div class="line">            inDegree[node]--;</div><div class="line">            <span class="keyword">if</span> (inDegree[node] == <span class="number">0</span>) &#123;</div><div class="line">                q.offer(node);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>cycle-detection: <a href="http://www.geeksforgeeks.org/detect-cycle-in-a-graph/" target="_blank" rel="external">DFS, white, grey, black</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CycleDetectionInDirectedGraph</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="comment">//o represent white, 1 represent grey, 2 represent black</span></div><div class="line">        <span class="keyword">int</span>[] nodeColors = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (nodeColors[i] == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(i, nodeColors, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsCycle</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span>[] nodeColors, List&lt;List&lt;Integer&gt;&gt; graph)</span> </span>&#123;</div><div class="line">        nodeColors[i] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> node : graph.get(i)) &#123;</div><div class="line">            <span class="keyword">if</span> (nodeColors[node] == <span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nodeColors[node] == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (containsCycle(node, nodeColors, graph)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        nodeColors[i] = <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>connectivity</p>
<ul>
<li>static: dfs</li>
<li>dynamic: union find</li>
</ul>
</li>
</ul>
<h3 id="weighted-shortest-path-algorithm"><a href="#weighted-shortest-path-algorithm" class="headerlink" title="weighted shortest path algorithm"></a><a href="https://en.wikipedia.org/wiki/Shortest_path_problem" target="_blank" rel="external">weighted shortest path algorithm</a></h3><ul>
<li><p>Dijkstra(not for negative): dp思想, 求一个点到其他所有点的最短路径。time complexity with PriorityQueue: O(|E| + |V|log|V|)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeWithDist</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> node;</div><div class="line">    <span class="keyword">int</span> dist;</div><div class="line">    NodeWithDist(<span class="keyword">int</span> node, <span class="keyword">int</span> dist) &#123;</div><div class="line">        <span class="keyword">this</span>.node = node;</div><div class="line">        <span class="keyword">this</span>.dist = dist;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] dijkatra(List&lt;List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span> s) &#123;</div><div class="line">    <span class="keyword">int</span> n = graph.size();</div><div class="line">    <span class="keyword">int</span>[] dist = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.get(s).size(); ++i) &#123;</div><div class="line">        dist[i] =  graph.get(s).get(i) != <span class="keyword">null</span> ? graph.get(s).get(i) : Integer.MAX_VALUE;</div><div class="line">    &#125;</div><div class="line">    dist[s] = <span class="number">0</span>;</div><div class="line">    PriorityQueue&lt;NodeWithDist&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; n; v++) &#123;</div><div class="line">        <span class="keyword">if</span> (v != s) &#123;</div><div class="line">            q.offer(<span class="keyword">new</span> NodeWithDist(v, dist[v]));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//used reached or treeSet(how to handle duplicate value) to avoid O(n) remove(obj) in PriorityQueue</span></div><div class="line">    <span class="comment">//laze deletion, in this way, you don't need to implement a heap with update functionality</span></div><div class="line">    <span class="keyword">boolean</span>[] finished = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</div><div class="line">    finished[s] = <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</div><div class="line">        Integer u = q.poll().node;</div><div class="line">        <span class="keyword">if</span> (!finished[u]) &#123;</div><div class="line">            finished[u] = <span class="keyword">true</span>;</div><div class="line">            <span class="keyword">for</span> (Integer v : graph.get(u)) &#123;</div><div class="line">                <span class="keyword">if</span> (dist[u] + graph.get(u).get(v) &lt; dist[v] &amp;&amp; !finished[v]) &#123;</div><div class="line">                    dist[v] = dist[u] + graph.get(u).get(v);</div><div class="line">                    q.offer(<span class="keyword">new</span> NodeWithDist(v, dist[v]));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dist;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>(multi source)floyd: 求所有点到所有点的最短路径 O(|V|^3)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//from geeksforgeeks</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] floyd(<span class="keyword">int</span> graph[][], <span class="keyword">int</span> n) &#123;</div><div class="line">    <span class="keyword">int</span> dist[][] = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</div><div class="line">    <span class="keyword">int</span> i, j, k;</div><div class="line">    <span class="comment">/* Initialize the solution matrix same as input graph matrix.</span></div><div class="line">       Or we can say the initial values of shortest distances</div><div class="line">       are based on shortest paths considering no intermediate</div><div class="line">       vertex. */</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">            dist[i][j] = graph[i][j];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">/* Add all vertices one by one to the set of intermediate</span></div><div class="line">       vertices.</div><div class="line">      ---&gt; Before start of a iteration, we have shortest</div><div class="line">           distances between all pairs of vertices such that</div><div class="line">           the shortest distances consider only the vertices in</div><div class="line">           set &#123;0, 1, 2, .. k-1&#125; as intermediate vertices.</div><div class="line">      ----&gt; After the end of a iteration, vertex no. k is added</div><div class="line">            to the set of intermediate vertices and the set</div><div class="line">            becomes &#123;0, 1, 2, .. k&#125; */</div><div class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; n; k++) &#123;</div><div class="line">        <span class="comment">// Pick all vertices as source one by one</span></div><div class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="comment">// Pick all vertices as destination for the</span></div><div class="line">            <span class="comment">// above picked source</span></div><div class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">                <span class="comment">// If vertex k is on the shortest path from</span></div><div class="line">                <span class="comment">// i to j, then update the value of dist[i][j]</span></div><div class="line">                <span class="keyword">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</div><div class="line">                    dist[i][j] = dist[i][k] + dist[k][j];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dist;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="useful-data-structure"><a href="#useful-data-structure" class="headerlink" title="useful data structure"></a>useful data structure</h3><ul>
<li><a href="http://www.cs.princeton.edu/courses/archive/spring07/cos226/lectures/01union-find.pdf" target="_blank" rel="external">union find/2D</a>(for connectivity): <ul>
<li><a href="https://leetcode.com/problems/number-of-islands-ii/" target="_blank" rel="external">Number of Islands II</a></li>
<li><a href="http://www.geeksforgeeks.org/union-find/" target="_blank" rel="external">http://www.geeksforgeeks.org/union-find/</a></li>
<li><a href="http://www.geeksforgeeks.org/union-find-algorithm-set-2-union-by-rank/" target="_blank" rel="external">http://www.geeksforgeeks.org/union-find-algorithm-set-2-union-by-rank/</a><ul>
<li>quick find:  find(u, v): O(1), union(u, v): O(N)</li>
<li>quick union: find(u, v): O(N), union(u, v): O(1)</li>
<li>weighted quick union: find(u, v): O(logN), union(u, v): O(logN)</li>
<li>weighted with path compression: find(u, v): O(log<em>N), union(u, v): O(log</em>N)  —-<a href="https://en.wikipedia.org/wiki/Iterated_logarithm" target="_blank" rel="external">iterated logarithm, almost constant</a></li>
<li>implementation:<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightedQuickUnionWithPC</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] size;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span>[] id;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeightedQuickUnionWithPC</span><span class="params">(<span class="keyword">int</span> length)</span></span>&#123;</div><div class="line">        <span class="keyword">this</span>.count = length;</div><div class="line">        <span class="keyword">this</span>.id = <span class="keyword">new</span> <span class="keyword">int</span>[length];</div><div class="line">        <span class="keyword">this</span>.size = <span class="keyword">new</span> <span class="keyword">int</span>[length];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i) &#123;</div><div class="line">            size[i] = <span class="number">1</span>;</div><div class="line">            id[i] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.count;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//may not useful</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> parent(i) == parent(j);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> rootI = parent(i);</div><div class="line">        <span class="keyword">int</span> rootJ = parent(j);</div><div class="line">        <span class="keyword">if</span> (rootI == rootJ) <span class="keyword">return</span>;</div><div class="line">        <span class="comment">// make smaller root point to larger one</span></div><div class="line">        <span class="keyword">int</span> rootSmall = size[rootI] &lt; size[rootJ] ? rootI : rootJ;</div><div class="line">        <span class="keyword">int</span> rootLarge = size[rootI] &lt; size[rootJ] ? rootJ : rootI;</div><div class="line">        id[rootSmall] = rootLarge;</div><div class="line">        size[rootLarge] += size[rootSmall];</div><div class="line">        count--;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</div><div class="line">        <span class="keyword">int</span> root = i;</div><div class="line">        <span class="keyword">while</span> (root != id[root]) &#123;</div><div class="line">            root = id[root];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (root != i) &#123;</div><div class="line">            <span class="keyword">int</span> old = id[i];</div><div class="line">            id[i] = root;</div><div class="line">            i = old;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Question-in-leetcode"><a href="#Question-in-leetcode" class="headerlink" title="Question in leetcode"></a>Question in leetcode</h3><p>1.<a href="https://leetcode.com/problems/alien-dictionary/" target="_blank" rel="external">alien dictionary</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dependency problem: topological sort</div></pre></td></tr></table></figure></p>
<p>2.<a href="https://leetcode.com/problems/clone-graph/" target="_blank" rel="external">Clone Graph</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//bfs + hashMap, remember check if the node was visited.</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> UndirectedGraphNode <span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        UndirectedGraphNode root = <span class="keyword">new</span> UndirectedGraphNode(node.label);</div><div class="line">        Map&lt;UndirectedGraphNode, UndirectedGraphNode&gt; nodesMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        nodesMap.put(node, root);</div><div class="line">        Queue&lt;UndirectedGraphNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        queue.offer(node);</div><div class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</div><div class="line">            UndirectedGraphNode curNode = queue.poll();</div><div class="line">            <span class="keyword">for</span> (UndirectedGraphNode neighbor : curNode.neighbors) &#123;</div><div class="line">                <span class="keyword">if</span> (!nodesMap.containsKey(neighbor)) &#123;</div><div class="line">                    nodesMap.put(neighbor, <span class="keyword">new</span> UndirectedGraphNode(neighbor.label));</div><div class="line">                    queue.offer(neighbor);</div><div class="line">                &#125;</div><div class="line">                nodesMap.get(curNode).neighbors.add(nodesMap.get(neighbor));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.<a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="external">Graph Valid Tree</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//check cycle in undirected graph</span></div><div class="line"><span class="comment">//check if connected</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validTree</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i) &#123;</div><div class="line">            graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] edge : edges) &#123;</div><div class="line">            graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</div><div class="line">            graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (hasCycle(-<span class="number">1</span>, <span class="number">0</span>, visited, graph)) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;  <span class="comment">// has cycle</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v: visited) &#123;</div><div class="line">            <span class="keyword">if</span> (v == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;  <span class="comment">// not 1 single connected component</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(<span class="keyword">int</span> pred, <span class="keyword">int</span> vertex, <span class="keyword">int</span>[] visited, List&lt;List&lt;Integer&gt;&gt; adjList)</span> </span>&#123;</div><div class="line">        visited[vertex] = <span class="number">1</span>;  <span class="comment">// current vertex is being visited</span></div><div class="line">        <span class="keyword">for</span> (Integer succ: adjList.get(vertex)) &#123;  <span class="comment">// successors of current vertex</span></div><div class="line">            <span class="keyword">if</span> (succ != pred) &#123;  <span class="comment">// exclude current vertex's predecessor</span></div><div class="line">                <span class="keyword">if</span> (visited[succ] == <span class="number">1</span>) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;  <span class="comment">// back edge/loop detected!</span></div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (visited[succ] == <span class="number">0</span>) &#123;</div><div class="line">                    <span class="keyword">if</span> (hasCycle(vertex, succ, visited, adjList)) &#123;</div><div class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        visited[vertex] = <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>4.<a href="https://leetcode.com/problems/longest-increasing-path-in-a-matrix/" target="_blank" rel="external">Longest Increasing Path In Matrix</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// dfs + memorization, time complexity: O(n*m)</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> [][] offsets = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> maxLen = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> [][] cache = <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length][matrix[<span class="number">0</span>].length];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; ++i) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].length; ++j) &#123;</div><div class="line">                maxLen = Math.max(maxLen, findMaxLen(matrix, <span class="number">1</span>, i, j, cache));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> maxLen;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findMaxLen</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> tempLen, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[][] cache)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span> (cache[i][j] != <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> cache[i][j];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> curLen = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] offset : offsets) &#123;</div><div class="line">            <span class="keyword">if</span> (isInMatrix(matrix, i + offset[<span class="number">0</span>], j + offset[<span class="number">1</span>]) &amp;&amp; matrix[i + offset[<span class="number">0</span>]][j + offset[<span class="number">1</span>]] &gt; matrix[i][j]) &#123;</div><div class="line">                <span class="keyword">int</span> len = <span class="number">1</span> + findMaxLen(matrix, tempLen + <span class="number">1</span>, i + offset[<span class="number">0</span>], j + offset[<span class="number">1</span>], cache);</div><div class="line">                curLen = Math.max(curLen, len);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        cache[i][j] = curLen;</div><div class="line">        <span class="keyword">return</span> curLen;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isInMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> i &lt; matrix.length &amp;&amp; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; matrix[<span class="number">0</span>].length &amp;&amp; j &gt;= <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>5.<a href="https://leetcode.com/problems/minimum-height-trees/" target="_blank" rel="external">Minimum Height Trees</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//O(n) solution</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findMinHeightTrees</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> Collections.singletonList(<span class="number">0</span>);</div><div class="line">        List&lt;Set&lt;Integer&gt;&gt; adj = <span class="keyword">new</span> ArrayList&lt;&gt;(n);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) adj.add(<span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] edge : edges) &#123;</div><div class="line">            adj.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</div><div class="line">            adj.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</div><div class="line">        &#125;</div><div class="line">        List&lt;Integer&gt; leaves = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (adj.get(i).size() == <span class="number">1</span>) leaves.add(i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (n &gt; <span class="number">2</span>) &#123;</div><div class="line">            n -= leaves.size();</div><div class="line">            List&lt;Integer&gt; newLeaves = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i : leaves) &#123;</div><div class="line">                <span class="keyword">int</span> j = adj.get(i).iterator().next();</div><div class="line">                adj.get(j).remove(i);</div><div class="line">                <span class="keyword">if</span> (adj.get(j).size() == <span class="number">1</span>) newLeaves.add(j);</div><div class="line">            &#125;</div><div class="line">            leaves = newLeaves;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> leaves;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>6.<a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/" target="_blank" rel="external">Number Of Connected Components In Undirected Graph</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//static connectivity problem. use bfs or dfs solve it.</span></div></pre></td></tr></table></figure></p>
<p>7.number of islands<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> m = grid.length;</div><div class="line">        <span class="keyword">if</span>(m==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; m;++i)&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j&lt; n;++j)&#123;</div><div class="line">                <span class="keyword">if</span>(grid[i][j] == <span class="string">'0'</span>) <span class="keyword">continue</span>;</div><div class="line">                res++;</div><div class="line">                dfs(i,j,m,n,grid);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> m,<span class="keyword">int</span> n, <span class="keyword">char</span>[][] grid)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= m || j &lt; <span class="number">0</span> || j &gt;= n) <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span>(grid[i][j] == <span class="string">'1'</span>)&#123;</div><div class="line">            grid[i][j] = <span class="string">'0'</span>;</div><div class="line">            dfs(i+<span class="number">1</span>,j,m,n,grid);</div><div class="line">            dfs(i-<span class="number">1</span>,j,m,n,grid);</div><div class="line">            dfs(i,j+<span class="number">1</span>,m,n,grid);</div><div class="line">            dfs(i,j-<span class="number">1</span>,m,n,grid);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>8.number of islands 2<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//dynamic connectivity problem: union-find</span></div></pre></td></tr></table></figure></p>
<p>9.<a href="https://leetcode.com/problems/pacific-atlantic-water-flow/" target="_blank" rel="external">Pacific Atlantic Water Flow</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//bfs + two set(used to record reachable points)</span></div></pre></td></tr></table></figure></p>
<p>10.<a href="https://leetcode.com/problems/reconstruct-itinerary/" target="_blank" rel="external">ReconstructItinerary</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//see related problem, 最短破解4位密码锁序列长度问题</span></div><div class="line"><span class="comment">//Hierholzer's algorithm to find a Eulerian path in the graph which is a valid reconstruction.</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    Map&lt;String, PriorityQueue&lt;String&gt;&gt; flights;</div><div class="line">    LinkedList&lt;String&gt; path;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</div><div class="line">        flights = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        path = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (String[] ticket : tickets) &#123;</div><div class="line">            flights.computeIfAbsent(ticket[<span class="number">0</span>], k -&gt; <span class="keyword">new</span> PriorityQueue&lt;&gt;()).add(ticket[<span class="number">1</span>]);</div><div class="line">        &#125;</div><div class="line">        dfs(<span class="string">"JFK"</span>);</div><div class="line">        <span class="keyword">return</span> path;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String departure)</span> </span>&#123;</div><div class="line">        PriorityQueue&lt;String&gt; arrivals = flights.get(departure);</div><div class="line">        <span class="keyword">while</span> (arrivals != <span class="keyword">null</span> &amp;&amp; !arrivals.isEmpty()) &#123;</div><div class="line">            dfs(arrivals.poll());</div><div class="line">        &#125;</div><div class="line">        path.addFirst(departure);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</div><div class="line">    Map&lt;String, PriorityQueue&lt;String&gt;&gt; targets = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String[] ticket : tickets)</div><div class="line">        targets.computeIfAbsent(ticket[<span class="number">0</span>], k -&gt; <span class="keyword">new</span> PriorityQueue()).add(ticket[<span class="number">1</span>]);</div><div class="line">    List&lt;String&gt; route = <span class="keyword">new</span> LinkedList();</div><div class="line">    Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    stack.push(<span class="string">"JFK"</span>);</div><div class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</div><div class="line">        <span class="keyword">while</span> (targets.containsKey(stack.peek()) &amp;&amp; !targets.get(stack.peek()).isEmpty())</div><div class="line">            stack.push(targets.get(stack.peek()).poll());</div><div class="line">        route.add(<span class="number">0</span>, stack.pop());</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> route;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>11.<a href="https://leetcode.com/problems/shortest-distance-from-all-buildings/" target="_blank" rel="external">Shortest Distance from All Buildings</a></p>
<p>12.<a href="https://leetcode.com/problems/walls-and-gates/" target="_blank" rel="external">Walls and Gates</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//multi-end bfs</span></div></pre></td></tr></table></figure></p>
<p>13.<a href="">Word Search II</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//dfs + trie</span></div><div class="line"><span class="comment">//remove visited set</span></div><div class="line"><span class="comment">//changed result set to list, use p.word = null after find a word</span></div><div class="line"><span class="comment">//remove stringBuilder, use p.word to check</span></div></pre></td></tr></table></figure></p>
<p>14.<a href="">Word Square</a></p>
<h3 id="Question-in-mianjing"><a href="#Question-in-mianjing" class="headerlink" title="Question in mianjing"></a>Question in mianjing</h3><p>1.output maze solver path(iterative)<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] dirs = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> Deque&lt;Point&gt; <span class="title">solver</span><span class="params">(<span class="keyword">int</span>[][] matrix, Point start, Point end)</span> </span>&#123;</div><div class="line">    Deque&lt;Point&gt; pathStack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    Set&lt;Point&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    pathStack.addFirst(start);</div><div class="line">    visited.add(start);</div><div class="line">    <span class="keyword">while</span> (!pathStack.isEmpty()) &#123;</div><div class="line">        Point peek = pathStack.peekFirst();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</div><div class="line">            Point next = <span class="keyword">new</span> Point(peek.x + dirs[i][<span class="number">0</span>], peek.y + dirs[i][<span class="number">1</span>]);</div><div class="line">            <span class="keyword">if</span> (valid(next, matrix) &amp;&amp; !visited.contains(next)) &#123;</div><div class="line">                pathStack.addFirst(next);</div><div class="line">                visited.add(next);</div><div class="line">                <span class="keyword">if</span> (next == end) &#123;</div><div class="line">                    <span class="keyword">return</span> pathStack;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</div><div class="line">                pathStack.removeFirst();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> pathStack;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(Point p, <span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> p.x &gt;= <span class="number">0</span> &amp;&amp; p.x &lt; matrix.length &amp;&amp; p.y &gt;= <span class="number">0</span> &amp;&amp; p.y &lt; matrix[<span class="number">0</span>].length;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>2.output maze solver path(recursion)</p>
<p>3.generate maze</p>
<p>4.rolling ball maze<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//preprocess matrix</span></div></pre></td></tr></table></figure></p>
<p>5.At Least K Neighbors<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 给一个无向图G(V,E)还有一个正整数k,Graph表示V表示点,E表示边, 要求找到G的最大的 subset G'使得 G’中每个点至少每个点至少有 k</div><div class="line"> * 个 neighbor.</div><div class="line"> */</div></pre></td></tr></table></figure></p>
<p>6.break wall<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//穿墙问题 给一个m*n的board，board里面存0，1，和2，分别代表： 0 - 可申通无阻 1 - 有墙阻隔，</span></div><div class="line"><span class="comment">//人只能穿墙才能经过 2 - 有建筑，人无法经过.给定一个点的位置和他最多能穿的墙的数量，</span></div><div class="line"><span class="comment">//求到他另一个指定的点的最短路径的长度。如果路径不存在，返回-1</span></div></pre></td></tr></table></figure></p>
<p>7.Rain and Bar<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//题目就是给你一个matrix，里面的数字代表bar的高度，</span></div><div class="line"><span class="comment">//现在说降雨量如果高于bar的高度水可以漫过去，降雨量0开始每天+1这样，</span></div><div class="line"><span class="comment">//问最早第几天水可以有一条路径从src漫到dst。这轮也是讨论optimization很久，</span></div><div class="line"><span class="comment">//最后用bfs写一个subproblem。</span></div></pre></td></tr></table></figure></p>
<p>8.Remove BackEdges</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/02/summary-for-graph/" data-id="cjqshy5110005d29zwdjffsl1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/06/onsite-interview-流程/">onsite interview 流程</a>
          </li>
        
          <li>
            <a href="/2016/11/05/summary-for-stack-related-question/">summary for stack related question</a>
          </li>
        
          <li>
            <a href="/2016/11/05/summary-for-Design-Data-Structure/">summary for Design, Data Structure</a>
          </li>
        
          <li>
            <a href="/2016/11/05/summary-for-dp/">summary for dp</a>
          </li>
        
          <li>
            <a href="/2016/11/05/summary-for-combination-permutation-backtracking/">summary for combination, permutation, backtracking</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>